'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport ComplianceAlerts from '@/components/ComplianceAlerts';\nimport RegulatoryChangeTracker from '@/components/RegulatoryChangeTracker';\nimport RiskScoreBoard from '@/components/RiskScoreBoard';\nimport TradingRestrictions from '@/components/TradingRestrictions';\nimport BinanceWebSocket from '@/components/BinanceWebSocket';\nimport CorrelationHeatMap from '@/components/risk-dashboard/CorrelationHeatMap';\nimport HistoricalCorrelationChart from '@/components/risk-dashboard/HistoricalCorrelationChart';\nimport VolatilityImpactAnalysis from '@/components/risk-dashboard/VolatilityImpactAnalysis';\nimport CurrencyRiskScoring from '@/components/risk-dashboard/CurrencyRiskScoring';\nimport GeopoliticalRiskIntegration from '@/components/risk-dashboard/GeopoliticalRiskIntegration';\nimport CorrelationCoefficientCalculator from '@/components/risk-dashboard/CorrelationCoefficientCalculator';\nimport PredictiveCorrelationModel from '@/components/risk-dashboard/PredictiveCorrelationModel';\nimport PortfolioOptimizer from '@/components/portfolio-optimizer/PortfolioOptimizer';\nimport EfficientFrontierChart from '@/components/portfolio-optimizer/EfficientFrontierChart';\nimport RiskReturnMetrics from '@/components/portfolio-optimizer/RiskReturnMetrics';\nimport AssetAllocationTable from '@/components/portfolio-optimizer/AssetAllocationTable';\nimport ScenarioSimulation from '@/components/portfolio-optimizer/ScenarioSimulation';\nimport PerformancePrediction from '@/components/portfolio-optimizer/PerformancePrediction';\nimport RebalancingStrategy from '@/components/portfolio-optimizer/RebalancingStrategy';\nimport { CorrelationData, CurrencyPair, RiskScore, PortfolioAsset, OptimizationResult, Scenario } from '@/types/risk-dashboard';\n\nexport default function ComplianceDashboard() {\n    const [selectedMarket, setSelectedMarket] = useState('US');\n    const [selectedSymbol, setSelectedSymbol] = useState('BTCUSDT');\n    const [selectedCurrencyPair, setSelectedCurrencyPair] = useState<CurrencyPair>('EUR/USD');\n    const [timeframe, setTimeframe] = useState('1D');\n    const [correlationData, setCorrelationData] = useState<CorrelationData[]>([]);\n    const [riskScores, setRiskScores] = useState<RiskScore[]>([]);\n    \n    // Portfolio Optimizer State\n    const [portfolioAssets, setPortfolioAssets] = useState<PortfolioAsset[]>([\n        { symbol: 'BTC', name: 'Bitcoin', weight: 0.3, expectedReturn: 0.15, volatility: 0.4 },\n        { symbol: 'ETH', name: 'Ethereum', weight: 0.2, expectedReturn: 0.12, volatility: 0.35 },\n        { symbol: 'AAPL', name: 'Apple Inc', weight: 0.25, expectedReturn: 0.08, volatility: 0.2 },\n        { symbol: 'GOOGL', name: 'Alphabet', weight: 0.15, expectedReturn: 0.09, volatility: 0.22 },\n        { symbol: 'BND', name: 'Vanguard Bond', weight: 0.1, expectedReturn: 0.04, volatility: 0.05 }\n    ]);\n    \n    const [optimizationResult, setOptimizationResult] = useState<OptimizationResult | null>(null);\n    const [isOptimizing, setIsOptimizing] = useState(false);\n    const [riskFreeRate, setRiskFreeRate] = useState(0.02);\n    const [targetReturn, setTargetReturn] = useState(0.1);\n    const [riskTolerance, setRiskTolerance] = useState(0.3);\n    const [scenarios, setScenarios] = useState<Scenario[]>([\n        { name: 'Bull Market', probability: 0.3, marketReturn: 0.2, volatilityMultiplier: 0.8 },\n        { name: 'Base Case', probability: 0.5, marketReturn: 0.08, volatilityMultiplier: 1.0 },\n        { name: 'Bear Market', probability: 0.2, marketReturn: -0.1, volatilityMultiplier: 1.5 }\n    ]);\n    \n    const currencyPairs: CurrencyPair[] = [\n        'EUR/USD', 'USD/JPY', 'GBP/USD', 'USD/CHF', \n        'AUD/USD', 'USD/CAD', 'NZD/USD', 'BTC/USD',\n        'ETH/USD', 'XAU/USD', 'OIL/USD'\n    ];\n    \n    const handleWebSocketData = (data: any) => {\n        console.log('Received market data:', data);\n        // Здесь можно добавить логику обработки данных\n    };\n    \n    const handleWebSocketError = (error: Error) => {\n        console.error('WebSocket error:', error);\n        // Здесь можно добавить логику обработки ошибок\n    };\n\n    // Portfolio Optimization Functions\n    const calculatePortfolioMetrics = () => {\n        // Calculate expected portfolio return\n        const expectedReturn = portfolioAssets.reduce((sum, asset) => \n            sum + (asset.weight * asset.expectedReturn), 0);\n        \n        // Calculate portfolio variance (simplified)\n        let variance = 0;\n        for (let i = 0; i < portfolioAssets.length; i++) {\n            for (let j = 0; j < portfolioAssets.length; j++) {\n                const correlation = i === j ? 1 : 0.3; // Simplified correlation\n                variance += portfolioAssets[i].weight * portfolioAssets[j].weight * \n                           portfolioAssets[i].volatility * portfolioAssets[j].volatility * \n                           correlation;\n            }\n        }\n        \n        const volatility = Math.sqrt(variance);\n        const sharpeRatio = (expectedReturn - riskFreeRate) / volatility;\n        \n        return { expectedReturn, volatility, sharpeRatio };\n    };\n    \n    const runOptimization = () => {\n        setIsOptimizing(true);\n        \n        // Simulate AI optimization (in real app, this would call backend)\n        setTimeout(() => {\n            const metrics = calculatePortfolioMetrics();\n            \n            // Generate efficient frontier points\n            const frontierPoints = Array.from({ length: 20 }, (_, i) => {\n                const returnLevel = 0.04 + (i * 0.008);\n                const riskLevel = 0.05 + (i * 0.02);\n                return { return: returnLevel, risk: riskLevel };\n            });\n            \n            // Find optimal portfolio based on Sharpe ratio\n            const optimalWeights = portfolioAssets.map(asset => ({\n                symbol: asset.symbol,\n                name: asset.name,\n                currentWeight: asset.weight,\n                optimalWeight: Math.max(0.05, Math.min(0.4, asset.weight * (1 + (Math.random() - 0.5) * 0.3))),\n                change: 0\n            }));\n            \n            // Normalize weights\n            const totalOptimal = optimalWeights.reduce((sum, w) => sum + w.optimalWeight, 0);\n            optimalWeights.forEach(w => {\n                w.optimalWeight = w.optimalWeight / totalOptimal;\n                w.change = w.optimalWeight - w.currentWeight;\n            });\n            \n            const result: OptimizationResult = {\n                timestamp: new Date().toISOString(),\n                expectedReturn: metrics.expectedReturn,\n                volatility: metrics.volatility,\n                sharpeRatio: metrics.sharpeRatio,\n                maxDrawdown: metrics.volatility * 2.5,\n                valueAtRisk: metrics.volatility * 1.65,\n                optimalWeights,\n                frontierPoints,\n                recommendedAction: metrics.sharpeRatio > 1 ? 'HOLD' : 'REBALANCE',\n                confidenceScore: 0.85\n            };\n            \n            setOptimizationResult(result);\n            setIsOptimizing(false);\n        }, 1500);\n    };\n    \n    const updateAssetWeight = (symbol: string, newWeight: number) => {\n        setPortfolioAssets(prev => \n            prev.map(asset => \n                asset.symbol === symbol ? { ...asset, weight: newWeight } : asset\n            )\n        );\n    };\n    \n    const addScenario = () => {\n        const newScenario: Scenario = {\n            name: `Scenario ${scenarios.length + 1}`,\n            probability: 0.1,\n            marketReturn: 0,\n            volatilityMultiplier: 1.0\n        };\n        setScenarios([...scenarios, newScenario]);\n    };\n    \n    const updateScenario = (index: number, field: keyof Scenario, value: number | string) => {\n        setScenarios(prev => \n            prev.map((scenario, i) => \n                i === index ? { ...scenario, [field]: value } : scenario\n            )\n        );\n    };\n\n    // Инициализация демо-данных\n    useEffect(() => {\n        // Демо-данные для корреляции\n        const demoCorrelationData: CorrelationData[] = currencyPairs.map(pair => ({\n            pair,\n            correlation: Math.random() * 2 - 1, // от -1 до 1\n            volatility: Math.random() * 0.1 + 0.02, // 2-12%\n            volume: Math.random() * 1000000 + 500000,\n            timestamp: new Date().toISOString()\n        }));\n        \n        // Демо-данные для оценки риска\n        const demoRiskScores: RiskScore[] = currencyPairs.map(pair => ({\n            pair,\n            riskScore: Math.random() * 100,\n            volatilityScore: Math.random() * 100,\n            liquidityScore: Math.random() * 100,\n            geopoliticalScore: Math.random() * 100,\n            technicalScore: Math.random() * 100\n        }));\n        \n        setCorrelationData(demoCorrelationData);\n        setRiskScores(demoRiskScores);\n        \n        // Run initial optimization\n        runOptimization();\n    }, []);\n\n    return (\n        <div className=\"min-h-screen bg-gray-900 text-white p-4 md:p-6\">\n            <div className=\"container mx-auto\">\n                <h1 className=\"text-3xl font-bold mb-2 text-center text-gray-100\">\n                    AI Trading Platform - Portfolio Optimization & Risk Dashboard\n                </h1>\n                <p className=\"text-gray-400 text-center mb-6\">\n                    AI-powered portfolio optimization with real-time risk correlation monitoring\n                </p>\n\n                {/* Binance WebSocket Component */}\n                <div className=\"mb-6\">\n                    <BinanceWebSocket \n                        symbol={selectedSymbol}\n                        onData={handleWebSocketData}\n                        onError={handleWebSocketError}\n                    />\n                </div>\n\n                {/* Market and Timeframe Selection */}\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-300 mb-1\">Market</label>\n                        <select \n                            value={selectedMarket}\n                            onChange={(e) => setSelectedMarket(e.target.value)}\n                            className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        >\n                            <option value=\"US\">US Markets</option>\n                            <option value=\"EU\">European Markets</option>\n                            <option value=\"ASIA\">Asian Markets</option>\n                            <option value=\"CRYPTO\">Crypto Markets</option>\n                        </select>\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-300 mb-1\">Symbol</label>\n                        <select \n                            value={selectedSymbol}\n                            onChange={(e) => setSelectedSymbol(e.target.value)}\n                            className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        >\n                            <option value=\"BTCUSDT\">BTC/USDT</option>\n                            <option value=\"ETHUSDT\">ETH/USDT</option>\n                            <option value=\"AAPL\">AAPL</option>\n                            <option value=\"GOOGL\">GOOGL</option>\n                        </select>\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-300 mb-1\">Currency Pair</label>\n                        <select \n                            value={selectedCurrencyPair}\n                            onChange={(e) => setSelectedCurrencyPair(e.target.value as CurrencyPair)}\n                            className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        >\n                            {currencyPairs.map(pair => (\n                                <option key={pair} value={pair}>{pair}</option>\n                            ))}\n                        </select>\n                    </div>\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-300 mb-1\">Timeframe</label>\n                        <select \n                            value={timeframe}\n                            onChange={(e) => setTimeframe(e.target.value)}\n                            className=\"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        >\n                            <option value=\"1H\">1 Hour</option>\n                            <option value=\"4H\">4 Hours</option>\n                            <option value=\"1D\">1 Day</option>\n                            <option value=\"1W\">1 Week</option>\n                            <option value=\"1M\">1 Month</option>\n                        </select>\n                    </div>\n                </div>\n\n                {/* Portfolio Optimizer Section */}\n                <div className=\"mb-8\">\n                    <PortfolioOptimizer \n                        assets={portfolioAssets}\n                        onOptimize={runOptimization}\n                        onUpdateAsset={updateAssetWeight}\n                        riskFreeRate={riskFreeRate}\n                        onRiskFreeRateChange={setRiskFreeRate}\n                        targetReturn={targetReturn}\n                        onTargetReturnChange={setTargetReturn}\n                        riskTolerance={riskTolerance}\n                        onRiskToleranceChange={setRiskTolerance}\n                        isOptimizing={isOptimizing}\n                    />\n                </div>\n\n                {/* Optimization Results Grid */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n                    {/* Efficient Frontier Chart */}\n                    <div className=\"bg-gray-800 rounded-xl p-4 border border-gray-700\">\n                        <h2 className=\"text-xl font-semibold mb-4 text-gray-100\">Efficient Frontier</h2>\n                        <EfficientFrontierChart \n                            frontierPoints={optimizationResult?.frontierPoints || []}\n                            currentPortfolio={optimizationResult ? \n                                { return: optimizationResult.expectedReturn, risk: optimizationResult.volatility } : \n                                null\n                            }\n                            optimalPortfolio={optimizationResult ? \n                                { return: optimizationResult.expectedReturn * 1.1, risk: optimizationResult.volatility * 0.9 } : \n                                null\n                            }\n                        />\n                    </div>\n\n                    {/* Risk-Return Metrics */}\n                    <div className=\"bg-gray-800 rounded-xl p-4 border border-gray-700\">\n                        <h2 className=\"text-xl font-semibold mb-4 text-gray-100\">Portfolio Metrics</h2>\n                        <RiskReturnMetrics \n                            metrics={optimizationResult}\n                            riskFreeRate={riskFreeRate}\n                        />\n                    </div>\n\n                    {/* Asset Allocation Table */}\n                    <div className=\"bg-gray-800 rounded-xl p-4 border border-gray-700\">\n                        <h2 className=\"text-xl font-semibold mb-4 text-gray-100\">Optimal Asset Allocation</h2>\n                        <AssetAllocationTable \n                            assets={portfolioAssets}\n                            optimalWeights={optimizationResult?.optimalWeights || []}\n                        />\n                    </div>\n\n                    {/* Scenario Simulation */}\n                    <div className=\"bg-gray-800 rounded-xl p-4 border border-gray-700\">\n                        <h2 className=\"text-xl font-semibold mb-4 text-gray-100\">Scenario Analysis</h2>\n                        <ScenarioSimulation \n                            scenarios={scenarios}\n                            onAddScenario={addScenario}\n                            onUpdateScenario={updateScenario}\n                            portfolioMetrics={optimizationResult}\n                        />\n                    </div>\n                </div>\n\n                {/* Performance Prediction & Rebalancing */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n                    <div className=\"bg-gray-800 rounded-xl p-4 border border-gray-700\">\n                        <h2 className=\"text-xl font-semibold mb-4 text-gray-100\">Performance Prediction</h2>\n                        <PerformancePrediction \n                            assets={portfolioAssets}\n                            scenarios={scenarios}\n                            timeHorizon={12}\n                        />\n                    </div>\n\n                    <div className=\"bg-gray-800 rounded-xl p-4 border border-gray-700\">\n                        <h2 className=\"text-xl font-semibold mb-4 text-gray-100\">Rebalancing Strategy</h2>\n                        <RebalancingStrategy \n                            currentWeights={portfolioAssets.map(a => ({ symbol: a.symbol, weight: a.weight }))}\n                            optimalWeights={optimizationResult?.optimalWeights || []}\n                            transactionCost={0.001}\n                            taxImplications={0.15}\n                        />\n                    </div>\n                </div>\n\n                {/* Risk Correlation Dashboard */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n                    <div className=\"bg-gray-800 rounded-xl p-4 border border-gray-700\">\n                        <h2 className=\"text-xl font-semibold mb-4 text-gray-100\">Correlation Heat Map</h2>\n                        <CorrelationHeatMap \n                            data={correlationData}\n                            selectedPair={selectedCurrencyPair}\n                        />\n                    </div>\n\n                    <div className=\"bg-gray-800 rounded-xl p-4 border border-gray-700\">\n                        <h2 className=\"text-xl font-semibold mb-4 text-gray-100\">Historical Correlation</h2>\n                        <HistoricalCorrelationChart \n                            data={correlationData}\n                            selectedPair={selectedCurrencyPair}\n                            timeframe={timeframe}\n                        />\n                    </div>\n                </div>\n\n                {/* Additional Risk Analysis Components */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n                    <VolatilityImpactAnalysis \n                        data={correlationData}\n                        selectedPair={selectedCurrencyPair}\n                    />\n                    <CurrencyRiskScoring \n                        riskScores={riskScores}\n                        selectedPair={selectedCurrencyPair}\n                    />\n                    <GeopoliticalRiskIntegration \n                        selectedPair={selectedCurrencyPair}\n                    />\n                </div>\n\n                {/* Advanced Correlation Tools */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n                    <CorrelationCoefficientCalculator \n                        data={correlationData}\n                        selectedPair={selectedCurrencyPair}\n                    />\n                    <PredictiveCorrelationModel \n                        data={correlationData}\n                        selectedPair={selectedCurrencyPair}\n                    />\n                </div>\n\n                {/* Compliance Components */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <ComplianceAlerts \n                        market={selectedMarket}\n                        symbol={selectedSymbol}\n                    />\n                    <RegulatoryChangeTracker \n                        market={selectedMarket}\n                    />\n                    <RiskScoreBoard \n                        riskScores={riskScores}\n                    />\n                    <TradingRestrictions \n                        market={selectedMarket}\n                        symbol={selectedSymbol}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n}\n"     },     {       "path": "src/components/portfolio-optimizer/PortfolioOptimizer.tsx",       "content": "import React from 'react';\nimport { PortfolioAsset } from '@/types/risk-dashboard';\n\ninterface PortfolioOptimizerProps {\n    assets: PortfolioAsset[];\n    onOptimize: () => void;\n    onUpdateAsset: (symbol: string, weight: number) => void;\n    riskFreeRate: number;\n    onRiskFreeRateChange: (rate: number) => void;\n    targetReturn: number;\n    onTargetReturnChange: (return: number) => void;\n    riskTolerance: number;\n    onRiskToleranceChange: (tolerance: number) => void;\n    isOptimizing: boolean;\n}\n\nexport default function PortfolioOptimizer({\n    assets,\n    onOptimize,\n    onUpdateAsset,\n    riskFreeRate,\n    onRiskFreeRateChange,\n    targetReturn,\n    onTargetReturnChange,\n    riskTolerance,\n    onRiskToleranceChange,\n    isOptimizing\n}: PortfolioOptimizerProps) {\n    const totalWeight = assets.reduce((sum, asset) => sum + asset.weight, 0);\n    \n    return (\n        <div className=\"bg-gray-800 rounded-xl p-6 border border-gray-700\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-2xl font-bold text-gray-100\">AI Portfolio Optimizer</h2>\n                <div className=\"flex items-center space-x-4\">\n                    <span className=\"text-sm text-gray-400\">Powered by ML & MPT</span>\n                    <button \n                        onClick={onOptimize}\n                        disabled={isOptimizing}\n                        className={`px-6 py-2 rounded-lg font-medium transition-all ${isOptimizing ? 'bg-blue-700 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700'}`}\n                    >\n                        {isOptimizing ? (\n                            <span className=\"flex items-center\">\n                                <svg className=\"animate-spin h-4 w-4 mr-2 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                                </svg>\n                                Optimizing...\n                            </span>\n                        ) : 'Optimize Portfolio'}\n                    </button>\n                </div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                {/* Asset Allocation Controls */}\n                <div>\n                    <h3 className=\"text-lg font-semibold mb-4 text-gray-200\">Asset Allocation</h3>\n                    <div className=\"space-y-4\">\n                        {assets.map((asset) => (\n                            <div key={asset.symbol} className=\"flex items-center justify-between\">\n                                <div>\n                                    <span className=\"font-medium text-gray-300\">{asset.symbol}</span>\n                                    <span className=\"text-sm text-gray-400 ml-2\">{asset.name}</span>\n                                </div>\n                                <div className=\"flex items-center space-x-4\">\n                                    <input\n                                        type=\"range\"\n                                        min=\"0\"\n                                        max=\"1\"\n                                        step=\"0.01\"\n                                        value={asset.weight}\n                                        onChange={(e) => onUpdateAsset(asset.symbol, parseFloat(e.target.value))}\n                                        className=\"w-32 accent-blue-500\"\n                                    />\n                                    <span className=\"w-16 text-right font-mono text-gray-300\">\n                                        {(asset.weight * 100).toFixed(1)}%\n                                    </span>\n                                </div>\n                            </div>\n                        ))}\n                        <div className=\"pt-4 border-t border-gray-700\">\n                            <div className=\"flex justify-between text-gray-300\">\n                                <span>Total Allocation:</span>\n                                <span className={`font-bold ${Math.abs(totalWeight - 1) > 0.001 ? 'text-red-400' : 'text-green-400'}`}>\n                                    {(totalWeight * 100).toFixed(2)}%\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                {/* Optimization Parameters */}\n                <div>\n                    <h3 className=\"text-lg font-semibold mb-4 text-gray-200\">Optimization Parameters</h3>\n                    <div className=\"space-y-6\">\n                        <div>\n                            <div className=\"flex justify-between mb-2\">\n                                <label className=\"text-gray-300\">Risk-Free Rate</label>\n                                <span className=\"text-gray-300 font-mono\">{(riskFreeRate * 100).toFixed(2)}%</span>\n                            </div>\n                            <input\n                                type=\"range\"\n                                min=\"0\"\n                                max=\"0.1\"\n                                step=\"0.001\"\n                                value={riskFreeRate}\n                                onChange={(e) => onRiskFreeRateChange(parseFloat(e.target.value))}\n                                className=\"w-full accent-blue-500\"\n                            />\n                            <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\n                                <span>0%</span>\n                                <span>10%</span>\n                            </div>\n                        </div>\n                        \n                        <div>\n                            <div className=\"flex justify-between mb-2\">\n                                <label className=\"text-gray-300\">Target Return</label>\n                                <span className=\"text-gray-300 font-mono\">{(targetReturn * 100).toFixed(2)}%</span>\n                            </div>\n                            <input\n                                type=\"range\"\n                                min=\"0\"\n                                max=\"0.3\"\n                                step=\"0.01\"\n                                value={targetReturn}\n                                onChange={(e) => onTargetReturnChange(parseFloat(e.target.value))}\n                                className=\"w-full accent-green-500\"\n                            />\n                            <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\n                                <span>0%</span>\n                                <span>30%</span>\n                            </div>\n                        </div>\n                        \n                        <div>\n                            <div className=\"flex justify-between mb-2\">\n                                <label className=\"text-gray-300\">Risk Tolerance</label>\n                                <span className=\"text-gray-300 font-mono\">{(riskTolerance * 100).toFixed(0)}%</span>\n                            </div>\n                            <input\n                                type=\"range\"\n                                min=\"0.1\"\n                                max=\"0.5\"\n                                step=\"0.05\"\n                                value={riskTolerance}\n                                onChange={(e) => onRiskToleranceChange(parseFloat(e.target.value))}\n                                className=\"w-full accent-purple-500\"\n                            />\n                            <div className=\"flex justify-between text-xs text-gray-400 mt-1\">\n                                <span>Conservative</span>\n                                <span>Aggressive</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            {/* Optimization Strategy Selection */}\n            <div className=\"mt-6 pt-6 border-t border-gray-700\">\n                <h3 className=\"text-lg font-semibold mb-4 text-gray-200\">Optimization Strategy</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    <button className=\"p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-center\">\n                        <div className=\"font-medium text-gray-200\">Mean-Variance</div>\n                        <div className=\"text-sm text-gray-400 mt-1\">Classic MPT</div>\n                    </button>\n                    <button className=\"p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-center\">\n                        <div className=\"font-medium text-gray-200\">Black-Litterman</div>\n                        <div className=\"text-sm text-gray-400 mt-1\">Bayesian</div>\n                    </button>\n                    <button className=\"p-4 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-center\">\n                        <div className=\"font-medium text-gray-200\">Risk Parity</div>\n                        <div className=\"text-sm text-gray-400 mt-1\">Equal Risk</div>\n                    </button>\n                    <button className=\"p-4 bg-blue-900 hover:bg-blue-800 rounded-lg transition-colors text-center border border-blue-700\">\n                        <div className=\"font-medium text-gray-200\">AI Adaptive</div>\n                        <div className=\"text-sm text-gray-400 mt-1\">Reinforcement Learning</div>\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n"     },     {       "path": "src/components/portfolio-optimizer/EfficientFrontierChart.tsx",       "content": "import React from 'react';\n\ninterface FrontierPoint {\n    return: number;\n    risk: number;\n}\n\ninterface PortfolioPoint {\n    return: number;\n    risk: number;\n}\n\ninterface EfficientFrontierChartProps {\n    frontierPoints: FrontierPoint[];\n    currentPortfolio: PortfolioPoint | null;\n    optimalPortfolio: PortfolioPoint | null;\n}\n\nexport default function EfficientFrontierChart({\n    frontierPoints,\n    currentPortfolio,\n    optimalPortfolio\n}: EfficientFrontierChartProps) {\n    const maxReturn = Math.max(...frontierPoints.map(p => p.return), 0.2);\n    const maxRisk = Math.max(...frontierPoints.map(p => p.risk), 0.4);\n    \n    const scaleX = (risk: number) => (risk / maxRisk) * 100;\n    const scaleY = (ret: number) => 100 - (ret / maxReturn) * 100;\n    \n    return (\n        <div className=\"relative h-64 w-full\">\n            {/* Grid */}\n            <div className=\"absolute inset-0 border border-gray-700 rounded-lg\">\n                {/* Y-axis labels */}\n                {[0, 0.05, 0.1, 0.15, 0.2].map((value, i) => (\n                    <div \n                        key={i}\n                        className=\"absolute left-0 text-xs text-gray-500\"\n                        style={{ top: `${scaleY(value)}%`, transform: 'translateY(-50%)' }}\n                    >\n                        {(value * 100).toFixed(0)}%\n                    </div>\n                ))}\n                \n                {/* X-axis labels */}\n                {[0, 0.1, 0.2, 0.3, 0.4].map((value, i) => (\n                    <div \n                        key={i}\n                        className=\"absolute bottom-0 text-xs text-gray-500\"\n                        style={{ left: `${scaleX(value)}%`, transform: 'translateX(-50%)' }}\n                    >\n                        {(value * 100).toFixed(0)}%\n                    </div>\n                ))}\n                \n                {/* Efficient Frontier Line */}\n                <svg className=\"absolute inset-0 w-full h-full\">\n                    <defs>\n                        <linearGradient id=\"frontierGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                            <stop offset=\"0%\" stopColor=\"#3B82F6\" stopOpacity=\"0.3\" />\n                            <stop offset=\"100%\" stopColor=\"#8B5CF6\" stopOpacity=\"0.3\" />\n                        </linearGradient>\n                    </defs>\n                    \n                    {/* Frontier line */}\n                    <polyline\n                        points={frontierPoints.map(p => \n                            `${scaleX(p.risk)},${scaleY(p.return)}`\n                        ).join(' ')}\n                        fill=\"none\"\n                        stroke=\"url(#frontierGradient)\"\n                        strokeWidth=\"2\"\n                        className=\"drop-shadow-lg\"\n                    />\n                    \n                    {/* Current portfolio point */}\n                    {currentPortfolio && (\n                        <circle\n                            cx={scaleX(current
'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { \n  LineChart, Line, BarChart, Bar, ScatterChart, Scatter, \n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, \n  RadarChart, Radar, PolarGrid, PolarAngleAxis, PolarRadiusAxis,\n  Heatmap, HeatmapCell\n} from 'recharts';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Slider } from '@/components/ui/slider';\nimport { Switch } from '@/components/ui/switch';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  Search, \n  Filter, \n  Download, \n  Play, \n  Pause, \n  RefreshCw, \n  BarChart3, \n  TrendingUp, \n  Cpu, \n  Zap, \n  Shield, \n  AlertTriangle,\n  ChevronRight,\n  ChevronLeft,\n  Activity,\n  Globe,\n  Layers,\n  AlertCircle,\n  Target,\n  PieChart,\n  Network,\n  TrendingDown,\n  MessageSquare,\n  Twitter,\n  Reddit,\n  Hash,\n  TrendingUp as TrendingUpIcon,\n  TrendingDown as TrendingDownIcon,\n  Bell,\n  Users,\n  Hash as HashIcon,\n  BarChart2,\n  Link as LinkIcon,\n  Mail,\n  Smartphone,\n  MessageCircle,\n  Settings,\n  CheckCircle,\n  XCircle,\n  Clock,\n  Volume2\n} from 'lucide-react';\n\n// Types\ninterface StatisticalArbitragePair {\n  id: string;\n  asset1: string;\n  asset2: string;\n  correlation: number;\n  spread: number;\n  zScore: number;\n  halfLife: number;\n  entryThreshold: number;\n  exitThreshold: number;\n  sharpeRatio: number;\n  status: 'active' | 'inactive' | 'alert';\n}\n\ninterface MLFeature {\n  name: string;\n  type: 'technical' | 'fundamental' | 'market' | 'sentiment';\n  importance: number;\n  correlation: number;\n  stability: number;\n}\n\ninterface FactorModel {\n  factor: string;\n  exposure: number;\n  riskPremium: number;\n  tStat: number;\n  pValue: number;\n  rSquared: number;\n}\n\ninterface PortfolioWeight {\n  symbol: string;\n  name: string;\n  mvoWeight: number;\n  riskParityWeight: number;\n  blackLittermanWeight: number;\n  currentWeight: number;\n}\n\ninterface MonteCarloResult {\n  iteration: number;\n  portfolioReturn: number;\n  portfolioVolatility: number;\n  sharpeRatio: number;\n  maxDrawdown: number;\n}\n\ninterface PerformanceMetric {\n  metric: string;\n  value: number;\n  benchmark: number;\n  explanation: string;\n}\n\ninterface RiskFactor {\n  factor: string;\n  exposure: number;\n  contribution: number;\n  risk: number;\n  color: string;\n}\n\ninterface CrossAssetCorrelation {\n  asset1: string;\n  asset2: string;\n  correlation: number;\n  rollingCorrelation: number[];\n  regime: 'high' | 'medium' | 'low';\n}\n\n// New Types for Correlation Risk Engine\ninterface CorrelationMatrixEntry {\n  asset1: string;\n  asset2: string;\n  correlation: number;\n  rolling30d: number;\n  rolling90d: number;\n  regime: 'high' | 'medium' | 'low' | 'negative';\n  significance: number;\n}\n\ninterface SystemicRiskAlert {\n  id: string;\n  type: 'correlation_breakdown' | 'volatility_spike' | 'liquidity_crisis' | 'contagion_risk';\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  assets: string[];\n  description: string;\n  timestamp: string;\n  impactScore: number;\n}\n\ninterface DiversificationMetric {\n  metric: string;\n  value: number;\n  target: number;\n  status: 'good' | 'warning' | 'danger';\n  description: string;\n}\n\ninterface CorrelationPrediction {\n  assetPair: string;\n  currentCorrelation: number;\n  predictedCorrelation: number;\n  confidence: number;\n  direction: 'increasing' | 'decreasing' | 'stable';\n  timeframe: '1d' | '1w' | '1m';\n}\n\ninterface PortfolioOptimization {\n  symbol: string;\n  currentWeight: number;\n  optimizedWeight: number;\n  change: number;\n  riskContribution: number;\n  correlationRisk: number;\n}\n\n// New Types for Trade Signal Notification System\ninterface TradeSignal {\n  id: string;\n  symbol: string;\n  signalType: 'technical' | 'ai_prediction' | 'arbitrage' | 'risk_alert' | 'volume_spike';\n  direction: 'buy' | 'sell' | 'neutral';\n  strength: number; // 0-100\n  price: number;\n  timestamp: string;\n  description: string;\n  indicators: string[];\n  confidence: number;\n}\n\ninterface NotificationChannel {\n  id: string;\n  type: 'email' | 'telegram' | 'discord' | 'mobile_push' | 'web_push';\n  name: string;\n  enabled: boolean;\n  config: Record<string, any>;\n  lastTested?: string;\n}\n\ninterface AlertRule {\n  id: string;\n  name: string;\n  symbol: string;\n  condition: {\n    type: 'price' | 'indicator' | 'volume' | 'ai_signal';\n    operator: '>' | '<' | '=' | 'cross_above' | 'cross_below';\n    value: number;\n    indicator?: string;\n  };\n  channels: string[];\n  enabled: boolean;\n  cooldownMinutes: number;\n  lastTriggered?: string;\n}\n\ninterface NotificationLog {\n  id: string;\n  signalId: string;\n  channel: string;\n  status: 'sent' | 'failed' | 'pending';\n  timestamp: string;\n  error?: string;\n}\n\ninterface NotificationPreferences {\n  email: {\n    enabled: boolean;\n    address: string;\n    frequency: 'immediate' | 'digest_15min' | 'digest_1h';\n    signalTypes: string[];\n  };\n  telegram: {\n    enabled: boolean;\n    botToken?: string;\n    chatId?: string;\n    signalTypes: string[];\n  };\n  discord: {\n    enabled: boolean;\n    webhookUrl?: string;\n    signalTypes: string[];\n  };\n  mobile: {\n    enabled: boolean;\n    signalTypes: string[];\n  };\n}\n\nconst TradeSignalNotificationSystem = () => {\n  // State for notifications\n  const [notificationChannels, setNotificationChannels] = useState<NotificationChannel[]>([\n    {\n      id: '1',\n      type: 'email',\n      name: 'Primary Email',\n      enabled: true,\n      config: { address: 'trader@example.com', smtpVerified: true }\n    },\n    {\n      id: '2',\n      type: 'telegram',\n      name: 'Trading Bot',\n      enabled: true,\n      config: { botName: '@aitrading_bot', lastConnected: '2024-01-15' }\n    },\n    {\n      id: '3',\n      type: 'discord',\n      name: 'Trading Alerts',\n      enabled: false,\n      config: { serverName: 'AI Trading Community' }\n    },\n    {\n      id: '4',\n      type: 'mobile_push',\n      name: 'Mobile App',\n      enabled: true,\n      config: { device: 'iPhone 15 Pro', lastActive: '2 min ago' }\n    },\n    {\n      id: '5',\n      type: 'web_push',\n      name: 'Browser Notifications',\n      enabled: true,\n      config: { browser: 'Chrome', permission: 'granted' }\n    }\n  ]);\n\n  const [alertRules, setAlertRules] = useState<AlertRule[]>([\n    {\n      id: '1',\n      name: 'RSI Oversold',\n      symbol: 'BTCUSDT',\n      condition: {\n        type: 'indicator',\n        operator: '<',\n        value: 30,\n        indicator: 'RSI'\n      },\n      channels: ['email', 'telegram', 'mobile_push'],\n      enabled: true,\n      cooldownMinutes: 30\n    },\n    {\n      id: '2',\n      name: 'AI Buy Signal',\n      symbol: 'ETHUSDT',\n      condition: {\n        type: 'ai_signal',\n        operator: '>',\n        value: 80,\n        indicator: 'AI_Confidence'\n      },\n      channels: ['telegram', 'mobile_push'],\n      enabled: true,\n      cooldownMinutes: 15\n    },\n    {\n      id: '3',\n      name: 'Volume Spike',\n      symbol: '*',\n      condition: {\n        type: 'volume',\n        operator: '>',\n        value: 300,\n        indicator: 'Volume_Ratio'\n      },\n      channels: ['email', 'discord'],\n      enabled: false,\n      cooldownMinutes: 60\n    }\n  ]);\n\n  const [recentSignals, setRecentSignals] = useState<TradeSignal[]>([\n    {\n      id: '1',\n      symbol: 'BTCUSDT',\n      signalType: 'ai_prediction',\n      direction: 'buy',\n      strength: 85,\n      price: 42500,\n      timestamp: '2024-01-15 14:30:22',\n      description: 'AI model predicts 5% upside based on momentum patterns',\n      indicators: ['LSTM', 'Transformer', 'MACD'],\n      confidence: 0.92\n    },\n    {\n      id: '2',\n      symbol: 'ETHUSDT',\n      signalType: 'technical',\n      direction: 'sell',\n      strength: 65,\n      price: 2250,\n      timestamp: '2024-01-15 14:25:10',\n      description: 'RSI divergence detected on 4H chart',\n      indicators: ['RSI', 'MACD', 'Bollinger'],\n      confidence: 0.78\n    },\n    {\n      id: '3',\n      symbol: 'AAPL',\n      signalType: 'volume_spike',\n      direction: 'buy',\n      strength: 72,\n      price: 185.42,\n      timestamp: '2024-01-15 14:20:05',\n      description: 'Unusual volume detected - 3x average',\n      indicators: ['Volume', 'OBV', 'VWAP'],\n      confidence: 0.85\n    }\n  ]);\n\n  const [notificationLogs, setNotificationLogs] = useState<NotificationLog[]>([\n    {\n      id: '1',\n      signalId: '1',\n      channel: 'telegram',\n      status: 'sent',\n      timestamp: '2024-01-15 14:30:25'\n    },\n    {\n      id: '2',\n      signalId: '1',\n      channel: 'email',\n      status: 'sent',\n      timestamp: '2024-01-15 14:30:26'\n    },\n    {\n      id: '3',\n      signalId: '2',\n      channel: 'mobile_push',\n      status: 'failed',\n      timestamp: '2024-01-15 14:25:12',\n      error: 'Device offline'\n    }\n  ]);\n\n  const [preferences, setPreferences] = useState<NotificationPreferences>({\n    email: {\n      enabled: true,\n      address: 'trader@example.com',\n      frequency: 'immediate',\n      signalTypes: ['technical', 'ai_prediction', 'risk_alert']\n    },\n    telegram: {\n      enabled: true,\n      signalTypes: ['ai_prediction', 'arbitrage', 'volume_spike']\n    },\n    discord: {\n      enabled: false,\n      signalTypes: ['technical', 'risk_alert']\n    },\n    mobile: {\n      enabled: true,\n      signalTypes: ['ai_prediction', 'risk_alert']\n    }\n  });\n\n  const [newAlertRule, setNewAlertRule] = useState<Partial<AlertRule>>({\n    name: '',\n    symbol: '',\n    condition: {\n      type: 'price',\n      operator: '>',\n      value: 0\n    },\n    channels: [],\n    enabled: true,\n    cooldownMinutes: 30\n  });\n\n  // WebSocket simulation for real-time signals\n  useEffect(() => {\n    const interval = setInterval(() => {\n      // Simulate new signal every 30 seconds\n      if (Math.random() > 0.7) {\n        const newSignal: TradeSignal = {\n          id: Date.now().toString(),\n          symbol: ['BTCUSDT', 'ETHUSDT', 'AAPL', 'GOOGL'][Math.floor(Math.random() * 4)],\n          signalType: ['technical', 'ai_prediction', 'volume_spike'][Math.floor(Math.random() * 3)] as any,\n          direction: ['buy', 'sell'][Math.floor(Math.random() * 2)] as any,\n          strength: Math.floor(Math.random() * 30) + 60,\n          price: Math.random() * 1000 + 100,\n          timestamp: new Date().toISOString().replace('T', ' ').substring(0, 19),\n          description: 'Real-time signal detected',\n          indicators: ['RSI', 'MACD', 'AI Model'],\n          confidence: Math.random() * 0.3 + 0.7\n        };\n        \n        setRecentSignals(prev => [newSignal, ...prev.slice(0, 9)]);\n        \n        // Simulate sending notifications\n        simulateNotifications(newSignal);\n      }\n    }, 30000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const simulateNotifications = (signal: TradeSignal) => {\n    const channels = notificationChannels.filter(c => c.enabled);\n    const newLogs: NotificationLog[] = [];\n    \n    channels.forEach(channel => {\n      const success = Math.random() > 0.1; // 90% success rate\n      newLogs.push({\n        id: Date.now().toString() + channel.id,\n        signalId: signal.id,\n        channel: channel.type,\n        status: success ? 'sent' : 'failed',\n        timestamp: new Date().toISOString().replace('T', ' ').substring(0, 19),\n        error: success ? undefined : 'Network error'\n      });\n    });\n    \n    setNotificationLogs(prev => [...newLogs, ...prev.slice(0, 19)]);\n  };\n\n  const toggleChannel = (channelId: string) => {\n    setNotificationChannels(prev => \n      prev.map(channel => \n        channel.id === channelId \n          ? { ...channel, enabled: !channel.enabled }\n          : channel\n      )\n    );\n  };\n\n  const toggleAlertRule = (ruleId: string) => {\n    setAlertRules(prev => \n      prev.map(rule => \n        rule.id === ruleId \n          ? { ...rule, enabled: !rule.enabled }\n          : rule\n      )\n    );\n  };\n\n  const addAlertRule = () => {\n    if (!newAlertRule.name || !newAlertRule.symbol) return;\n    \n    const rule: AlertRule = {\n      id: Date.now().toString(),\n      name: newAlertRule.name!,\n      symbol: newAlertRule.symbol!,\n      condition: newAlertRule.condition!,\n      channels: newAlertRule.channels || [],\n      enabled: newAlertRule.enabled || true,\n      cooldownMinutes: newAlertRule.cooldownMinutes || 30\n    };\n    \n    setAlertRules(prev => [rule, ...prev]);\n    setNewAlertRule({\n      name: '',\n      symbol: '',\n      condition: {\n        type: 'price',\n        operator: '>',\n        value: 0\n      },\n      channels: [],\n      enabled: true,\n      cooldownMinutes: 30\n    });\n  };\n\n  const testNotification = (channelId: string) => {\n    const channel = notificationChannels.find(c => c.id === channelId);\n    if (!channel) return;\n    \n    // Update last tested timestamp\n    setNotificationChannels(prev => \n      prev.map(c => \n        c.id === channelId \n          ? { ...c, lastTested: new Date().toISOString().replace('T', ' ').substring(0, 19) }\n          : c\n      )\n    );\n    \n    // Add test log\n    const testLog: NotificationLog = {\n      id: 'test-' + Date.now(),\n      signalId: 'test',\n      channel: channel.type,\n      status: 'sent',\n      timestamp: new Date().toISOString().replace('T', ' ').substring(0, 19),\n      error: undefined\n    };\n    \n    setNotificationLogs(prev => [testLog, ...prev]);\n  };\n\n  const getChannelIcon = (type: string) => {\n    switch (type) {\n      case 'email': return <Mail className=\"h-4 w-4\" />;\n      case 'telegram': return <MessageCircle className=\"h-4 w-4\" />;\n      case 'discord': return <MessageSquare className=\"h-4 w-4\" />;\n      case 'mobile_push': return <Smartphone className=\"h-4 w-4\" />;\n      case 'web_push': return <Globe className=\"h-4 w-4\" />;\n      default: return <Bell className=\"h-4 w-4\" />;\n    }\n  };\n\n  const getSignalTypeColor = (type: string) => {\n    switch (type) {\n      case 'ai_prediction': return 'bg-purple-500';\n      case 'technical': return 'bg-blue-500';\n      case 'arbitrage': return 'bg-green-500';\n      case 'risk_alert': return 'bg-red-500';\n      case 'volume_spike': return 'bg-orange-500';\n      default: return 'bg-gray-500';\n    }\n  };\n\n  const getDirectionIcon = (direction: string) => {\n    return direction === 'buy' ? \n      <TrendingUpIcon className=\"h-4 w-4 text-green-400\" /> : \n      <TrendingDownIcon className=\"h-4 w-4 text-red-400\" />;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2\">Trade Signal Notification System</h1>\n          <p className=\"text-gray-400\">Real-time alerts for trading signals across multiple channels</p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Column - Channels & Rules */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Notification Channels */}\n            <Card className=\"bg-gray-800 border-gray-700\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Bell className=\"h-5 w-5\" />\n                  Notification Channels\n                </CardTitle>\n                <CardDescription>\n                  Configure where to receive trading signals\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {notificationChannels.map(channel => (\n                    <div \n                      key={channel.id} \n                      className=\"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg\"\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <div className={`p-2 rounded-full ${channel.enabled ? 'bg-green-500/20' : 'bg-gray-600'}`}>\n                          {getChannelIcon(channel.type)}\n                        </div>\n                        <div>\n                          <div className=\"font-medium\">{channel.name}</div>\n                          <div className=\"text-sm text-gray-400\">\n                            {channel.type} • {channel.enabled ? 'Active' : 'Inactive'}\n                            {channel.lastTested && (\n                              <span className=\"ml-2\">Tested: {channel.lastTested}</span>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-3\">\n                        <Button \n                          variant=\"outline\" \n                          size=\"sm\"\n                          onClick={() => testNotification(channel.id)}\n                          className=\"border-gray-600 hover:bg-gray-700\"\n                        >\n                          Test\n                        </Button>\n                        <Switch \n                          checked={channel.enabled}\n                          onCheckedChange={() => toggleChannel(channel.id)}\n                        />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Alert Rules */}\n            <Card className=\"bg-gray-800 border-gray-700\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Settings className=\"h-5 w-5\" />\n                  Alert Rules\n                </CardTitle>\n                <CardDescription>\n                  Define conditions for triggering notifications\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {/* New Rule Form */}\n                  <div className=\"p-4 bg-gray-700/30 rounded-lg\">\n                    <h3 className=\"font-medium mb-3\">Create New Alert Rule</h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div>\n                        <Label htmlFor=\"rule-name\">Rule Name</Label>\n                        <Input \n                          id=\"rule-name\" \n                          value={newAlertRule.name}\n                          onChange={(e) => setNewAlertRule({...newAlertRule, name: e.target.value})}\n                          className=\"bg-gray-700 border-gray-600\"\n                        />\n                      </div>\n                      <div>\n                        <Label htmlFor=\"symbol\">Symbol</Label>\n                        <Input \n                          id=\"symbol\" \n                          value={newAlertRule.symbol}\n                          onChange={(e) => setNewAlertRule({...newAlertRule, symbol: e.target.value})}\n                          placeholder=\"* for all symbols\"\n                          className=\"bg-gray-700 border-gray-600\"\n                        />\n                      </div>\n                      <div>\n                        <Label>Condition Type</Label>\n                        <Select \n                          value={newAlertRule.condition?.type}\n                          onValueChange={(value) => setNewAlertRule({\n                            ...newAlertRule, \n                            condition: { ...newAlertRule.condition!, type: value as any }\n                          })}\n                        >\n                          <SelectTrigger className=\"bg-gray-700 border-gray-600\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent className=\"bg-gray-800 border-gray-700\">\n                            <SelectItem value=\"price\">Price</SelectItem>\n                            <SelectItem value=\"indicator\">Technical Indicator</SelectItem>\n                            <SelectItem value=\"volume\">Volume</SelectItem>\n                            <SelectItem value=\"ai_signal\">AI Signal</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div>\n                        <Label>Operator</Label>\n                        <Select \n                          value={newAlertRule.condition?.operator}\n                          onValueChange={(value) => setNewAlertRule({\n                            ...newAlertRule, \n                            condition: { ...newAlertRule.condition!, operator: value as any }\n                          })}\n                        >\n                          <SelectTrigger className=\"bg-gray-700 border-gray-600\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent className=\"bg-gray-800 border-gray-700\">\n                            <SelectItem value=\">\">Greater Than</SelectItem>\n                            <SelectItem value=\"<\">Less Than</SelectItem>\n                            <SelectItem value=\"=\">Equals</SelectItem>\n                            <SelectItem value=\"cross_above\">Cross Above</SelectItem>\n                            <SelectItem value=\"cross_below\">Cross Below</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div>\n                        <Label>Threshold Value</Label>\n                        <Input \n                          type=\"number\"\n                          value={newAlertRule.condition?.value}\n                          onChange={(e) => setNewAlertRule({\n                            ...newAlertRule, \n                            condition: { ...newAlertRule.condition!, value: parseFloat(e.target.value) }\n                          })}\n                          className=\"bg-gray-700 border-gray-600\"\n                        />\n                      </div>\n                      <div>\n                        <Label>Cooldown (minutes)</Label>\n                        <Slider \n                          value={[newAlertRule.cooldownMinutes || 30]}\n                          onValueChange={([value]) => setNewAlertRule({...newAlertRule, cooldownMinutes: value})}\n                          min={1}\n                          max={1440}\n                          step={1}\n                          className=\"mt-2\"\n                        />\n                        <div className=\"text-sm text-gray-400 mt-1\">\n                          {newAlertRule.cooldownMinutes || 30} minutes between alerts\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"mt-4\">\n                      <Label className=\"mb-2 block\">Notification Channels</Label>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {notificationChannels.map(channel => (\n                          <Button\n                            key={channel.id}\n                            type=\"button\"\n                            variant={newAlertRule.channels?.includes(channel.type) ? \"default\" : \"outline\"}\n                            size=\"sm\"\n                            onClick={() => {\n                              const channels = newAlertRule.channels || [];\n                              const newChannels = channels.includes(channel.type)\n                                ? channels.filter(c => c !== channel.type)\n                                : [...channels, channel.type];\n                              setNewAlertRule({...newAlertRule, channels: newChannels});\n                            }}\n                            className=\"border-gray-600\"\n                          >\n                            {getChannelIcon(channel.type)}\n                            {channel.type}\n                          </Button>\n                        ))}\n                      </div>\n                    </div>\n                    <Button \n                      onClick={addAlertRule}\n                      className=\"mt-4 w-full\"\n                      disabled={!newAlertRule.name || !newAlertRule.symbol}\n                    >\n                      Add Alert Rule\n                    </Button>\n                  </div>\n\n                  {/* Existing Rules */}\n                  <div className=\"space-y-3\">\n                    {alertRules.map(rule => (\n                      <div \n                        key={rule.id} \n                        className=\"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg\"\n                      >\n                        <div>\n                          <div className=\"flex items-center gap-2\">\n                            <div className={`w-2 h-2 rounded-full ${rule.enabled ? 'bg-green-500' : 'bg-gray-500'}`} />\n                            <span className=\"font-medium\">{rule.name}</span>\n                            <Badge variant=\"outline\" className=\"ml-2 border-gray-600\">\n                              {rule.symbol}\n                            </Badge>\n                          </div>\n                          <div className=\"text-sm text-gray-400 mt-1\">\n                            {rule.condition.type} {rule.condition.operator} {rule.condition.value}\n                            {rule.condition.indicator && ` (${rule.condition.indicator})`}\n                          </div>\n                          <div className=\"text-xs text-gray-500 mt-1\">\n                            Channels: {rule.channels.join(', ')} • Cooldown: {rule.cooldownMinutes}min\n                          </div>\n                        </div>\n                        <Switch \n                          checked={rule.enabled}\n                          onCheckedChange={() => toggleAlertRule(rule.id)}\n                        />\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Right Column - Recent Activity */}\n          <div className=\"space-y-6\">\n            {/* Recent Signals */}\n            <Card className=\"bg-gray-800 border-gray-700\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Activity className=\"h-5 w-5\" />\n                  Recent Signals\n                </CardTitle>\n                <CardDescription>\n                  Latest trading signals detected\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  {recentSignals.map(signal => (\n                    <div \n                      key={signal.id} \n                      className=\"p-3 bg-gray-700/30 rounded-lg hover:bg-gray-700/50 transition-colors\"\n                    >\n                      <div className=\"flex items-start justify-between\">\n                        <div>\n                          <div className=\"flex items-center gap-2\">\n                            {getDirectionIcon(signal.direction)}\n                            <span className=\"font-medium\">{signal.symbol}</span>\n                            <Badge className={`${getSignalTypeColor(signal.signalType)}`}>\n                              {signal.signalType}\n                            </Badge>\n                          </div>\n                          <div className=\"text-sm text-gray-400 mt-1\">\n                            {signal.description}\n                          </div>\n                          <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\n                            <span>${signal.price.toFixed(2)}</span>\n                            <span>Strength: {signal.strength}%</span>\n                            <span>Confidence: {(signal.confidence * 100).toFixed(0)}%</span>\n                          </div>\n                        </div>\n                        <div className=\"text-xs text-gray-500\">\n                          {signal.timestamp.split(' ')[1]}\n                        </div>\n                      </div>\n                      <div className=\"flex flex-wrap gap-1 mt-2\">\n                        {signal.indicators.map((indicator, idx) => (\n                          <Badge \n                            key={idx} \n                            variant=\"outline\" \n                            className=\"text-xs border-gray-600\"\n                          >\n                            {indicator}\n                          </Badge>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Notification Logs */}\n            <Card className=\"bg-gray-800 border-gray-700\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Clock className=\"h-5 w-5\" />\n                  Notification Logs\n                </CardTitle>\n                <CardDescription>\n                  Recent notification delivery status\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-2\">\n                  {notificationLogs.map(log => (\n                    <div \n                      key={log.id} \n                      className=\"flex items-center justify-between p-2 hover:bg-gray-700/30 rounded\"\n                    >\n                      <div className=\"flex items-center gap-2\">\n                        {log.status === 'sent' ? (\n                          <CheckCircle className=\"h-4 w-
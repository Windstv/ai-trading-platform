'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { LineChart, Line, BarChart, Bar, ScatterChart, Scatter, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, RadarChart, Radar, PolarGrid, PolarAngleAxis, PolarRadiusAxis } from 'recharts';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Slider } from '@/components/ui/slider';\nimport { Switch } from '@/components/ui/switch';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  Search, \n  Filter, \n  Download, \n  Play, \n  Pause, \n  RefreshCw, \n  BarChart3, \n  TrendingUp, \n  Cpu, \n  Zap, \n  Shield, \n  AlertTriangle,\n  ChevronRight,\n  ChevronLeft\n} from 'lucide-react';\n\n// Types\ninterface StatisticalArbitragePair {\n  id: string;\n  asset1: string;\n  asset2: string;\n  correlation: number;\n  spread: number;\n  zScore: number;\n  halfLife: number;\n  entryThreshold: number;\n  exitThreshold: number;\n  sharpeRatio: number;\n  status: 'active' | 'inactive' | 'alert';\n}\n\ninterface MLFeature {\n  name: string;\n  type: 'technical' | 'fundamental' | 'market' | 'sentiment';\n  importance: number;\n  correlation: number;\n  stability: number;\n}\n\ninterface FactorModel {\n  factor: string;\n  exposure: number;\n  riskPremium: number;\n  tStat: number;\n  pValue: number;\n  rSquared: number;\n}\n\ninterface PortfolioWeight {\n  symbol: string;\n  name: string;\n  mvoWeight: number;\n  riskParityWeight: number;\n  blackLittermanWeight: number;\n  currentWeight: number;\n}\n\ninterface MonteCarloResult {\n  iteration: number;\n  portfolioReturn: number;\n  portfolioVolatility: number;\n  sharpeRatio: number;\n  maxDrawdown: number;\n}\n\ninterface PerformanceMetric {\n  metric: string;\n  value: number;\n  benchmark: number;\n  explanation: string;\n}\n\ninterface RiskFactor {\n  factor: string;\n  exposure: number;\n  contribution: number;\n  risk: number;\n  color: string;\n}\n\ninterface CrossAssetCorrelation {\n  asset1: string;\n  asset2: string;\n  correlation: number;\n  rollingCorrelation: number[];\n  regime: 'high' | 'medium' | 'low';\n}\n\nexport default function QuantitativeResearchModule() {\n  // State for Statistical Arbitrage\n  const [arbitragePairs, setArbitragePairs] = useState<StatisticalArbitragePair[]>([\n    { id: '1', asset1: 'BTC', asset2: 'ETH', correlation: 0.85, spread: 1.2, zScore: 2.1, halfLife: 15, entryThreshold: 2.0, exitThreshold: 0.5, sharpeRatio: 1.8, status: 'active' },\n    { id: '2', asset1: 'AAPL', asset2: 'MSFT', correlation: 0.78, spread: 0.8, zScore: 1.5, halfLife: 20, entryThreshold: 2.0, exitThreshold: 0.5, sharpeRatio: 1.2, status: 'active' },\n    { id: '3', asset1: 'EUR/USD', asset2: 'GBP/USD', correlation: 0.92, spread: 0.3, zScore: 0.8, halfLife: 10, entryThreshold: 2.0, exitThreshold: 0.5, sharpeRatio: 2.1, status: 'inactive' },\n    { id: '4', asset1: 'XAU', asset2: 'XAG', correlation: 0.65, spread: 2.1, zScore: 2.8, halfLife: 25, entryThreshold: 2.0, exitThreshold: 0.5, sharpeRatio: 0.9, status: 'alert' },\n  ]);\n  \n  // State for ML Feature Engineering\n  const [mlFeatures, setMlFeatures] = useState<MLFeature[]>([\n    { name: 'RSI_14', type: 'technical', importance: 0.85, correlation: 0.72, stability: 0.88 },\n    { name: 'MACD', type: 'technical', importance: 0.78, correlation: 0.65, stability: 0.82 },\n    { name: 'Volume_Profile', type: 'market', importance: 0.92, correlation: 0.81, stability: 0.91 },\n    { name: 'Order_Flow_Imbalance', type: 'market', importance: 0.88, correlation: 0.76, stability: 0.79 },\n    { name: 'Sentiment_Score', type: 'sentiment', importance: 0.65, correlation: 0.58, stability: 0.68 },\n    { name: 'Volatility_Smile', type: 'market', importance: 0.71, correlation: 0.63, stability: 0.85 },\n  ]);\n  \n  // State for Factor Models\n  const [factorModels, setFactorModels] = useState<FactorModel[]>([\n    { factor: 'Market Beta', exposure: 1.2, riskPremium: 0.08, tStat: 4.5, pValue: 0.0001, rSquared: 0.65 },\n    { factor: 'Size (SMB)', exposure: -0.3, riskPremium: 0.03, tStat: -1.8, pValue: 0.072, rSquared: 0.12 },\n    { factor: 'Value (HML)', exposure: 0.4, riskPremium: 0.04, tStat: 2.1, pValue: 0.036, rSquared: 0.18 },\n    { factor: 'Momentum', exposure: 0.6, riskPremium: 0.05, tStat: 3.2, pValue: 0.001, rSquared: 0.25 },\n    { factor: 'Quality', exposure: 0.5, riskPremium: 0.03, tStat: 2.5, pValue: 0.012, rSquared: 0.15 },\n    { factor: 'Volatility', exposure: -0.8, riskPremium: -0.02, tStat: -3.8, pValue: 0.0002, rSquared: 0.22 },\n  ]);\n  \n  // State for Portfolio Construction\n  const [portfolioWeights, setPortfolioWeights] = useState<PortfolioWeight[]>([\n    { symbol: 'BTC', name: 'Bitcoin', mvoWeight: 0.25, riskParityWeight: 0.30, blackLittermanWeight: 0.28, currentWeight: 0.30 },\n    { symbol: 'ETH', name: 'Ethereum', mvoWeight: 0.20, riskParityWeight: 0.25, blackLittermanWeight: 0.22, currentWeight: 0.20 },\n    { symbol: 'AAPL', name: 'Apple', mvoWeight: 0.15, riskParityWeight: 0.10, blackLittermanWeight: 0.18, currentWeight: 0.15 },\n    { symbol: 'GOOGL', name: 'Google', mvoWeight: 0.12, riskParityWeight: 0.08, blackLittermanWeight: 0.14, currentWeight: 0.12 },\n    { symbol: 'BND', name: 'Bonds', mvoWeight: 0.28, riskParityWeight: 0.27, blackLittermanWeight: 0.18, currentWeight: 0.10 },\n  ]);\n  \n  // State for Monte Carlo Simulation\n  const [monteCarloResults, setMonteCarloResults] = useState<MonteCarloResult[]>(\n    Array.from({ length: 100 }, (_, i) => ({\n      iteration: i + 1,\n      portfolioReturn: 0.08 + Math.random() * 0.2 - 0.1,\n      portfolioVolatility: 0.15 + Math.random() * 0.1,\n      sharpeRatio: 0.5 + Math.random() * 1.5,\n      maxDrawdown: -(0.05 + Math.random() * 0.15),\n    }))\n  );\n  \n  // State for Performance Decomposition\n  const [performanceMetrics, setPerformanceMetrics] = useState<PerformanceMetric[]>([\n    { metric: 'Total Return', value: 0.152, benchmark: 0.108, explanation: 'Strategy outperformed benchmark by 4.4%' },\n    { metric: 'Sharpe Ratio', value: 1.42, benchmark: 0.98, explanation: 'Better risk-adjusted returns' },\n    { metric: 'Max Drawdown', value: -0.128, benchmark: -0.185, explanation: 'Lower maximum loss' },\n    { metric: 'Win Rate', value: 0.58, benchmark: 0.52, explanation: 'Higher percentage of profitable trades' },\n    { metric: 'Profit Factor', value: 1.85, benchmark: 1.42, explanation: 'Better reward-to-risk ratio' },\n    { metric: 'Alpha', value: 0.044, benchmark: 0, explanation: 'Excess return after adjusting for risk' },\n    { metric: 'Beta', value: 0.85, benchmark: 1.0, explanation: 'Lower market sensitivity' },\n  ]);\n  \n  // State for Risk Factors\n  const [riskFactors, setRiskFactors] = useState<RiskFactor[]>([\n    { factor: 'Market Risk', exposure: 0.85, contribution: 0.45, risk: 0.18, color: '#3B82F6' },\n    { factor: 'Interest Rate', exposure: -0.32, contribution: 0.15, risk: 0.08, color: '#10B981' },\n    { factor: 'Currency', exposure: 0.18, contribution: 0.08, risk: 0.05, color: '#F59E0B' },\n    { factor: 'Volatility', exposure: -0.42, contribution: 0.12, risk: 0.06, color: '#EF4444' },\n    { factor: 'Liquidity', exposure: 0.25, contribution: 0.10, risk: 0.04, color: '#8B5CF6' },\n    { factor: 'Sector', exposure: 0.38, contribution: 0.10, risk: 0.05, color: '#EC4899' },\n  ]);\n  \n  // State for Cross-Asset Correlation\n  const [crossAssetCorrelations, setCrossAssetCorrelations] = useState<CrossAssetCorrelation[]>([\n    { asset1: 'BTC', asset2: 'ETH', correlation: 0.85, rollingCorrelation: [0.8, 0.82, 0.85, 0.83, 0.86, 0.84, 0.85], regime: 'high' },\n    { asset1: 'Gold', asset2: 'USD', correlation: -0.65, rollingCorrelation: [-0.6, -0.62, -0.65, -0.63, -0.66, -0.64, -0.65], regime: 'high' },\n    { asset1: 'Oil', asset2: 'Stocks', correlation: 0.42, rollingCorrelation: [0.38, 0.40, 0.42, 0.41, 0.43, 0.42, 0.42], regime: 'medium' },\n    { asset1: 'Bonds', asset2: 'Stocks', correlation: -0.25, rollingCorrelation: [-0.2, -0.22, -0.25, -0.23, -0.26, -0.24, -0.25], regime: 'low' },\n  ]);\n  \n  // UI State\n  const [isSimulationRunning, setIsSimulationRunning] = useState(false);\n  const [selectedTimeframe, setSelectedTimeframe] = useState('1Y');\n  const [confidenceLevel, setConfidenceLevel] = useState(95);\n  const [numSimulations, setNumSimulations] = useState(1000);\n  \n  // Simulation Functions\n  const runMonteCarloSimulation = () => {\n    setIsSimulationRunning(true);\n    // Simulate API call\n    setTimeout(() => {\n      const newResults = Array.from({ length: numSimulations }, (_, i) => ({\n        iteration: i + 1,\n        portfolioReturn: 0.08 + Math.random() * 0.2 - 0.1,\n        portfolioVolatility: 0.15 + Math.random() * 0.1,\n        sharpeRatio: 0.5 + Math.random() * 1.5,\n        maxDrawdown: -(0.05 + Math.random() * 0.15),\n      }));\n      setMonteCarloResults(newResults);\n      setIsSimulationRunning(false);\n    }, 1500);\n  };\n  \n  const detectArbitrageOpportunities = () => {\n    const updatedPairs = arbitragePairs.map(pair => ({\n      ...pair,\n      zScore: (Math.random() * 4) - 2,\n      spread: (Math.random() * 3) - 1.5,\n      status: Math.random() > 0.7 ? 'alert' : Math.random() > 0.5 ? 'active' : 'inactive',\n    }));\n    setArbitragePairs(updatedPairs);\n  };\n  \n  // Chart Data\n  const efficientFrontierData = [\n    { risk: 0.12, return: 0.06, type: 'Minimum Variance' },\n    { risk: 0.15, return: 0.08, type: 'Current' },\n    { risk: 0.18, return: 0.11, type: 'Optimal' },\n    { risk: 0.22, return: 0.13, type: 'Maximum Return' },\n    { risk: 0.25, return: 0.14, type: 'Aggressive' },\n  ];\n  \n  const factorExposureData = factorModels.map(factor => ({\n    factor: factor.factor,\n    exposure: factor.exposure,\n    tStat: Math.abs(factor.tStat),\n  }));\n  \n  const correlationMatrixData = [\n    { asset: 'BTC', BTC: 1.0, ETH: 0.85, Gold: 0.15, Oil: 0.08, Bonds: -0.12, USD: -0.25 },\n    { asset: 'ETH', BTC: 0.85, ETH: 1.0, Gold: 0.12, Oil: 0.05, Bonds: -0.10, USD: -0.22 },\n    { asset: 'Gold', BTC: 0.15, ETH: 0.12, Gold: 1.0, Oil: 0.25, Bonds: 0.35, USD: -0.65 },\n    { asset: 'Oil', BTC: 0.08, ETH: 0.05, Oil: 0.25, Gold: 0.25, Bonds: -0.15, USD: -0.30 },\n    { asset: 'Bonds', BTC: -0.12, ETH: -0.10, Bonds: 0.35, Gold: 0.35, Oil: -0.15, USD: 0.45 },\n    { asset: 'USD', BTC: -0.25, ETH: -0.22, USD: -0.65, Gold: -0.65, Oil: -0.30, Bonds: 0.45 },\n  ];\n  \n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 to-gray-950 text-white p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2 flex items-center gap-2\">\n            <Cpu className=\"w-8 h-8 text-blue-500\" />\n            Quantitative Strategy Research Module\n          </h1>\n          <p className=\"text-gray-400\">Advanced statistical analysis and machine learning for systematic trading strategies</p>\n        </div>\n        \n        {/* Main Tabs */}\n        <Tabs defaultValue=\"arbitrage\" className=\"mb-8\">\n          <TabsList className=\"grid grid-cols-7 mb-8 bg-gray-800 p-1 rounded-lg\">\n            <TabsTrigger value=\"arbitrage\" className=\"data-[state=active]:bg-blue-600\">\n              <Zap className=\"w-4 h-4 mr-2\" />\n              Statistical Arbitrage\n            </TabsTrigger>\n            <TabsTrigger value=\"ml\" className=\"data-[state=active]:bg-purple-600\">\n              <Cpu className=\"w-4 h-4 mr-2\" />\n              ML Features\n            </TabsTrigger>\n            <TabsTrigger value=\"factors\" className=\"data-[state=active]:bg-green-600\">\n              <TrendingUp className=\"w-4 h-4 mr-2\" />\n              Factor Models\n            </TabsTrigger>\n            <TabsTrigger value=\"portfolio\" className=\"data-[state=active]:bg-yellow-600\">\n              <BarChart3 className=\"w-4 h-4 mr-2\" />\n              Portfolio Construction\n            </TabsTrigger>\n            <TabsTrigger value=\"montecarlo\" className=\"data-[state=active]:bg-red-600\">\n              <RefreshCw className=\"w-4 h-4 mr-2\" />\n              Monte Carlo\n            </TabsTrigger>\n            <TabsTrigger value=\"performance\" className=\"data-[state=active]:bg-pink-600\">\n              <TrendingUp className=\"w-4 h-4 mr-2\" />\n              Performance\n            </TabsTrigger>\n            <TabsTrigger value=\"correlation\" className=\"data-[state=active]:bg-indigo-600\">\n              <Shield className=\"w-4 h-4 mr-2\" />\n              Cross-Asset\n            </TabsTrigger>\n          </TabsList>\n          \n          {/* Statistical Arbitrage Tab */}\n          <TabsContent value=\"arbitrage\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <Card className=\"lg:col-span-2 bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle className=\"flex justify-between items-center\">\n                    <span>Statistical Arbitrage Pairs</span>\n                    <Button onClick={detectArbitrageOpportunities} size=\"sm\">\n                      <RefreshCw className=\"w-4 h-4 mr-2\" />\n                      Detect Opportunities\n                    </Button>\n                  </CardTitle>\n                  <CardDescription>Mean-reverting pairs trading strategies</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"overflow-x-auto\">\n                    <table className=\"w-full\">\n                      <thead>\n                        <tr className=\"border-b border-gray-700\">\n                          <th className=\"py-3 px-4 text-left\">Pair</th>\n                          <th className=\"py-3 px-4 text-left\">Correlation</th>\n                          <th className=\"py-3 px-4 text-left\">Spread</th>\n                          <th className=\"py-3 px-4 text-left\">Z-Score</th>\n                          <th className=\"py-3 px-4 text-left\">Half-Life</th>\n                          <th className=\"py-3 px-4 text-left\">Sharpe</th>\n                          <th className=\"py-3 px-4 text-left\">Status</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {arbitragePairs.map((pair) => (\n                          <tr key={pair.id} className=\"border-b border-gray-700 hover:bg-gray-700/50\">\n                            <td className=\"py-3 px-4\">\n                              <div className=\"font-medium\">{pair.asset1}/{pair.asset2}</div>\n                            </td>\n                            <td className=\"py-3 px-4\">\n                              <div className=\"flex items-center\">\n                                <div className=\"w-24 bg-gray-700 rounded-full h-2 mr-2\">\n                                  <div \n                                    className={`h-full rounded-full ${pair.correlation > 0.8 ? 'bg-green-500' : pair.correlation > 0.6 ? 'bg-yellow-500' : 'bg-red-500'}`}\n                                    style={{ width: `${Math.abs(pair.correlation) * 100}%` }}\n                                  />\n                                </div>\n                                <span>{pair.correlation.toFixed(2)}</span>\n                              </div>\n                            </td>\n                            <td className=\"py-3 px-4\">{pair.spread.toFixed(2)}</td>\n                            <td className=\"py-3 px-4\">\n                              <Badge \n                                className={`${Math.abs(pair.zScore) > 2 ? 'bg-red-500' : Math.abs(pair.zScore) > 1.5 ? 'bg-yellow-500' : 'bg-green-500'}`}\n                              >\n                                {pair.zScore.toFixed(2)}\n                              </Badge>\n                            </td>\n                            <td className=\"py-3 px-4\">{pair.halfLife} days</td>\n                            <td className=\"py-3 px-4\">{pair.sharpeRatio.toFixed(2)}</td>\n                            <td className=\"py-3 px-4\">\n                              <Badge \n                                className={`${pair.status === 'active' ? 'bg-green-500' : pair.status === 'alert' ? 'bg-red-500' : 'bg-gray-500'}`}\n                              >\n                                {pair.status}\n                              </Badge>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </CardContent>\n              </Card>\n              \n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Pair Spread Analysis</CardTitle>\n                  <CardDescription>BTC/ETH spread with Bollinger Bands</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"h-64\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <LineChart data={[\n                        { day: 1, spread: 1.0, upper: 2.0, lower: -2.0, mean: 0 },\n                        { day: 2, spread: 1.2, upper: 2.0, lower: -2.0, mean: 0 },\n                        { day: 3, spread: 1.8, upper: 2.0, lower: -2.0, mean: 0 },\n                        { day: 4, spread: 2.1, upper: 2.0, lower: -2.0, mean: 0 },\n                        { day: 5, spread: 1.5, upper: 2.0, lower: -2.0, mean: 0 },\n                        { day: 6, spread: 0.8, upper: 2.0, lower: -2.0, mean: 0 },\n                        { day: 7, spread: -0.2, upper: 2.0, lower: -2.0, mean: 0 },\n                      ]}>\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\n                        <XAxis dataKey=\"day\" stroke=\"#9CA3AF\" />\n                        <YAxis stroke=\"#9CA3AF\" />\n                        <Tooltip contentStyle={{ backgroundColor: '#1F2937', borderColor: '#374151' }} />\n                        <Line type=\"monotone\" dataKey=\"spread\" stroke=\"#3B82F6\" strokeWidth={2} dot={false} />\n                        <Line type=\"monotone\" dataKey=\"upper\" stroke=\"#EF4444\" strokeWidth={1} strokeDasharray=\"5 5\" dot={false} />\n                        <Line type=\"monotone\" dataKey=\"lower\" stroke=\"#EF4444\" strokeWidth={1} strokeDasharray=\"5 5\" dot={false} />\n                        <Line type=\"monotone\" dataKey=\"mean\" stroke=\"#10B981\" strokeWidth={1} dot={false} />\n                      </LineChart>\n                    </ResponsiveContainer>\n                  </div>\n                  <div className=\"mt-4 space-y-2\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-400\">Current Z-Score:</span>\n                      <Badge className=\"bg-red-500\">2.10</Badge>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-400\">Entry Signal:</span>\n                      <span className=\"text-green-400 font-medium\">SHORT Spread</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-400\">Expected Return:</span>\n                      <span className=\"text-blue-400 font-medium\">8.5%</span>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n          \n          {/* ML Feature Engineering Tab */}\n          <TabsContent value=\"ml\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Feature Importance Analysis</CardTitle>\n                  <CardDescription>Machine learning feature ranking and stability</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"h-80\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <BarChart data={mlFeatures.sort((a, b) => b.importance - a.importance)}>\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\n                        <XAxis dataKey=\"name\" stroke=\"#9CA3AF\" angle={-45} textAnchor=\"end\" height={60} />\n                        <YAxis stroke=\"#9CA3AF\" />\n                        <Tooltip contentStyle={{ backgroundColor: '#1F2937', borderColor: '#374151' }} />\n                        <Bar dataKey=\"importance\" fill=\"#8B5CF6\" />\n                        <Bar dataKey=\"stability\" fill=\"#10B981\" />\n                      </BarChart>\n                    </ResponsiveContainer>\n                  </div>\n                </CardContent>\n              </Card>\n              \n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Feature Correlation Matrix</CardTitle>\n                  <CardDescription>Inter-feature relationships</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    {mlFeatures.map((feature) => (\n                      <div key={feature.name} className=\"bg-gray-900 p-4 rounded-lg\">\n                        <div className=\"flex justify-between items-start mb-2\">\n                          <div>\n                            <div className=\"font-medium\">{feature.name}</div>\n                            <Badge className={`mt-1 ${feature.type === 'technical' ? 'bg-blue-500' : feature.type === 'market' ? 'bg-green-500' : feature.type === 'sentiment' ? 'bg-purple-500' : 'bg-yellow-500'}`}>\n                              {feature.type}\n                            </Badge>\n                          </div>\n                          <div className=\"text-2xl font-bold text-blue-400\">\n                            {(feature.importance * 100).toFixed(0)}%\n                          </div>\n                        </div>\n                        <div className=\"space-y-2 mt-4\">\n                          <div>\n                            <div className=\"flex justify-between text-sm text-gray-400\">\n                              <span>Correlation</span>\n                              <span>{(feature.correlation * 100).toFixed(0)}%</span>\n                            </div>\n                            <Progress value={feature.correlation * 100} className=\"h-2\" />\n                          </div>\n                          <div>\n                            <div className=\"flex justify-between text-sm text-gray-400\">\n                              <span>Stability</span>\n                              <span>{(feature.stability * 100).toFixed(0)}%</span>\n                            </div>\n                            <Progress value={feature.stability * 100} className=\"h-2\" />\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n          \n          {/* Factor Models Tab */}\n          <TabsContent value=\"factors\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <Card className=\"lg:col-span-2 bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Multi-Factor Model Analysis</CardTitle>\n                  <CardDescription>Factor exposures and statistical significance</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"h-96\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <RadarChart data={factorExposureData}>\n                        <PolarGrid stroke=\"#374151\" />\n                        <PolarAngleAxis dataKey=\"factor\" stroke=\"#9CA3AF\" />\n                        <PolarRadiusAxis stroke=\"#9CA3AF\" />\n                        <Radar name=\"Exposure\" dataKey=\"exposure\" stroke=\"#3B82F6\" fill=\"#3B82F6\" fillOpacity={0.3} />\n                        <Radar name=\"t-Stat\" dataKey=\"tStat\" stroke=\"#10B981\" fill=\"#10B981\" fillOpacity={0.3} />\n                        <Legend />\n                        <Tooltip contentStyle={{ backgroundColor: '#1F2937', borderColor: '#374151' }} />\n                      </RadarChart>\n                    </ResponsiveContainer>\n                  </div>\n                </CardContent>\n              </Card>\n              \n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Factor Statistics</CardTitle>\n                  <CardDescription>Detailed factor metrics</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {factorModels.map((factor) => (\n                      <div key={factor.factor} className=\"bg-gray-900 p-4 rounded-lg\">\n                        <div className=\"flex justify-between items-center mb-2\">\n                          <div className=\"font-medium\">{factor.factor}</div>\n                          <Badge className={`${factor.exposure > 0 ? 'bg-green-500' : 'bg-red-500'}`}>\n                            {factor.exposure > 0 ? '+' : ''}{factor.exposure.toFixed(2)}\n                          </Badge>\n                        </div>\n                        <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                          <div>\n                            <div className=\"text-gray-400\">Risk Premium</div>\n                            <div className=\"font-medium\">{(factor.riskPremium * 100).toFixed(1)}%</div>\n                          </div>\n                          <div>\n                            <div className=\"text-gray-400\">t-Stat</div>\n                            <div className={`font-medium ${Math.abs(factor.tStat) > 2 ? 'text-green-400' : 'text-yellow-400'}`}>\n                              {factor.tStat.toFixed(2)}\n                            </div>\n                          </div>\n                          <div>\n                            <div className=\"text-gray-400\">p-Value
'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  Activity, \n  Cpu, \n  Zap, \n  Shield, \n  AlertTriangle,\n  TrendingUp,\n  TrendingDown,\n  Layers,\n  Target,\n  Network,\n  BarChart3,\n  PieChart as PieChartIcon,\n  Filter,\n  Download,\n  RefreshCw,\n  Settings,\n  Eye,\n  EyeOff,\n  Clock,\n  DollarSign,\n  Users,\n  ArrowUpRight,\n  ArrowDownRight,\n  LineChart as LineChartIcon\n} from 'lucide-react';\nimport OrderFlowChart from '@/components/market-microstructure/OrderFlowChart';\nimport LimitOrderBook from '@/components/market-microstructure/LimitOrderBook';\nimport HFTDetectionPanel from '@/components/market-microstructure/HFTDetectionPanel';\nimport LiquidityMetrics from '@/components/market-microstructure/LiquidityMetrics';\nimport SmartMoneyFlow from '@/components/market-microstructure/SmartMoneyFlow';\nimport MarketMakerAnalysis from '@/components/market-microstructure/MarketMakerAnalysis';\nimport TradeImpactModel from '@/components/market-microstructure/TradeImpactModel';\nimport HiddenLiquidityDetector from '@/components/market-microstructure/HiddenLiquidityDetector';\nimport AlgorithmicSignature from '@/components/market-microstructure/AlgorithmicSignature';\n\ninterface OrderFlowImbalance {\n  timestamp: number;\n  buyPressure: number;\n  sellPressure: number;\n  imbalance: number;\n  price: number;\n}\n\ninterface HFTPattern {\n  id: string;\n  type: 'Spoofing' | 'QuoteStuffing' | 'MomentumIgnition' | 'Layering';\n  confidence: number;\n  timestamp: number;\n  impact: 'High' | 'Medium' | 'Low';\n}\n\ninterface LiquidityMetric {\n  metric: string;\n  value: number;\n  quality: 'Excellent' | 'Good' | 'Fair' | 'Poor';\n  trend: 'up' | 'down' | 'stable';\n}\n\ninterface MarketMakerBehavior {\n  makerId: string;\n  spreadTightness: number;\n  inventoryRisk: number;\n  quoteUpdateFrequency: number;\n  aggression: number;\n}\n\nconst AdvancedMarketMicrostructure = () => {\n  const [activeTab, setActiveTab] = useState('order-flow');\n  const [timeframe, setTimeframe] = useState('1m');\n  const [symbol, setSymbol] = useState('BTC/USDT');\n  const [isLive, setIsLive] = useState(true);\n  \n  // Mock data for order flow imbalance\n  const [orderFlowData, setOrderFlowData] = useState<OrderFlowImbalance[]>([\n    { timestamp: Date.now() - 60000, buyPressure: 65, sellPressure: 35, imbalance: 30, price: 45890 },\n    { timestamp: Date.now() - 50000, buyPressure: 72, sellPressure: 28, imbalance: 44, price: 45920 },\n    { timestamp: Date.now() - 40000, buyPressure: 48, sellPressure: 52, imbalance: -4, price: 45880 },\n    { timestamp: Date.now() - 30000, buyPressure: 55, sellPressure: 45, imbalance: 10, price: 45900 },\n    { timestamp: Date.now() - 20000, buyPressure: 40, sellPressure: 60, imbalance: -20, price: 45850 },\n    { timestamp: Date.now() - 10000, buyPressure: 68, sellPressure: 32, imbalance: 36, price: 45950 },\n  ]);\n  \n  // Mock HFT patterns\n  const [hftPatterns, setHftPatterns] = useState<HFTPattern[]>([\n    { id: '1', type: 'Spoofing', confidence: 87, timestamp: Date.now() - 45000, impact: 'High' },\n    { id: '2', type: 'QuoteStuffing', confidence: 92, timestamp: Date.now() - 32000, impact: 'Medium' },\n    { id: '3', type: 'MomentumIgnition', confidence: 78, timestamp: Date.now() - 15000, impact: 'High' },\n    { id: '4', type: 'Layering', confidence: 85, timestamp: Date.now() - 8000, impact: 'Medium' },\n  ]);\n  \n  // Mock liquidity metrics\n  const [liquidityMetrics, setLiquidityMetrics] = useState<LiquidityMetric[]>([\n    { metric: 'Market Depth', value: 85, quality: 'Excellent', trend: 'up' },\n    { metric: 'Spread Quality', value: 72, quality: 'Good', trend: 'stable' },\n    { metric: 'Slippage Risk', value: 34, quality: 'Good', trend: 'down' },\n    { metric: 'Order Fill Rate', value: 91, quality: 'Excellent', trend: 'up' },\n    { metric: 'Price Impact', value: 28, quality: 'Excellent', trend: 'down' },\n  ]);\n  \n  // Mock market maker data\n  const [marketMakers, setMarketMakers] = useState<MarketMakerBehavior[]>([\n    { makerId: 'MM-001', spreadTightness: 92, inventoryRisk: 18, quoteUpdateFrequency: 156, aggression: 42 },\n    { makerId: 'MM-002', spreadTightness: 85, inventoryRisk: 32, quoteUpdateFrequency: 89, aggression: 65 },\n    { makerId: 'MM-003', spreadTightness: 78, inventoryRisk: 45, quoteUpdateFrequency: 120, aggression: 38 },\n    { makerId: 'MM-004', spreadTightness: 95, inventoryRisk: 12, quoteUpdateFrequency: 210, aggression: 28 },\n  ]);\n  \n  // Simulate live data updates\n  useEffect(() => {\n    if (!isLive) return;\n    \n    const interval = setInterval(() => {\n      // Update order flow data\n      const newImbalance = Math.random() * 60 - 30;\n      const newBuyPressure = 50 + newImbalance / 2;\n      const newSellPressure = 50 - newImbalance / 2;\n      const priceChange = (Math.random() - 0.5) * 100;\n      \n      setOrderFlowData(prev => {\n        const newData = [...prev.slice(1), {\n          timestamp: Date.now(),\n          buyPressure: Math.max(0, Math.min(100, newBuyPressure)),\n          sellPressure: Math.max(0, Math.min(100, newSellPressure)),\n          imbalance: newImbalance,\n          price: prev[prev.length - 1].price + priceChange\n        }];\n        return newData;\n      });\n      \n      // Occasionally add new HFT patterns\n      if (Math.random() > 0.7) {\n        const patternTypes: HFTPattern['type'][] = ['Spoofing', 'QuoteStuffing', 'MomentumIgnition', 'Layering'];\n        const impacts: HFTPattern['impact'][] = ['High', 'Medium', 'Low'];\n        \n        setHftPatterns(prev => {\n          const newPattern: HFTPattern = {\n            id: (prev.length + 1).toString(),\n            type: patternTypes[Math.floor(Math.random() * patternTypes.length)],\n            confidence: Math.floor(Math.random() * 30) + 70,\n            timestamp: Date.now(),\n            impact: impacts[Math.floor(Math.random() * impacts.length)]\n          };\n          return [...prev.slice(-5), newPattern];\n        });\n      }\n      \n    }, 2000);\n    \n    return () => clearInterval(interval);\n  }, [isLive]);\n  \n  const getImbalanceColor = (imbalance: number) => {\n    if (imbalance > 20) return 'text-green-500';\n    if (imbalance < -20) return 'text-red-500';\n    return 'text-yellow-500';\n  };\n  \n  const getImpactColor = (impact: HFTPattern['impact']) => {\n    switch (impact) {\n      case 'High': return 'bg-red-500/20 text-red-400';\n      case 'Medium': return 'bg-yellow-500/20 text-yellow-400';\n      case 'Low': return 'bg-blue-500/20 text-blue-400';\n    }\n  };\n  \n  const getQualityColor = (quality: LiquidityMetric['quality']) => {\n    switch (quality) {\n      case 'Excellent': return 'text-green-400';\n      case 'Good': return 'text-blue-400';\n      case 'Fair': return 'text-yellow-400';\n      case 'Poor': return 'text-red-400';\n    }\n  };\n  \n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white p-4 md:p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n            <div>\n              <h1 className=\"text-3xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent\">\n                Advanced Market Microstructure Analytics\n              </h1>\n              <p className=\"text-gray-400 mt-2\">\n                Deep market structure analysis with order flow tracking, HFT detection, and liquidity metrics\n              </p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex items-center gap-2\">\n                <Badge variant={isLive ? \"destructive\" : \"secondary\"} className=\"gap-2\">\n                  <div className={`w-2 h-2 rounded-full ${isLive ? 'bg-red-500 animate-pulse' : 'bg-gray-500'}`} />\n                  {isLive ? 'LIVE' : 'PAUSED'}\n                </Badge>\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\"\n                  onClick={() => setIsLive(!isLive)}\n                >\n                  {isLive ? 'Pause' : 'Resume'}\n                </Button>\n              </div>\n              <Button variant=\"outline\" size=\"sm\">\n                <Download className=\"w-4 h-4 mr-2\" />\n                Export Data\n              </Button>\n            </div>\n          </div>\n          \n          <div className=\"flex flex-wrap items-center gap-4 mt-6\">\n            <div className=\"flex items-center gap-2\">\n              <Badge variant=\"outline\" className=\"gap-2\">\n                <Activity className=\"w-3 h-3\" />\n                {symbol}\n              </Badge>\n              <span className=\"text-green-400 font-semibold\">$45,890.12</span>\n              <span className=\"text-gray-400 text-sm\">+2.34%</span>\n            </div>\n            \n            <div className=\"flex gap-2\">\n              {['1m', '5m', '15m', '1h', '4h'].map((tf) => (\n                <Button\n                  key={tf}\n                  variant={timeframe === tf ? \"default\" : \"outline\"}\n                  size=\"sm\"\n                  onClick={() => setTimeframe(tf)}\n                >\n                  {tf}\n                </Button>\n              ))}\n            </div>\n          </div>\n        </div>\n        \n        {/* Main Tabs */}\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n          <TabsList className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-2 bg-gray-800 p-1\">\n            <TabsTrigger value=\"order-flow\" className=\"data-[state=active]:bg-gray-700\">\n              <Activity className=\"w-4 h-4 mr-2\" />\n              Order Flow\n            </TabsTrigger>\n            <TabsTrigger value=\"hft-patterns\" className=\"data-[state=active]:bg-gray-700\">\n              <Cpu className=\"w-4 h-4 mr-2\" />\n              HFT Detection\n            </TabsTrigger>\n            <TabsTrigger value=\"liquidity\" className=\"data-[state=active]:bg-gray-700\">\n              <Layers className=\"w-4 h-4 mr-2\" />\n              Liquidity\n            </TabsTrigger>\n            <TabsTrigger value=\"market-makers\" className=\"data-[state=active]:bg-gray-700\">\n              <Users className=\"w-4 h-4 mr-2\" />\n              Market Makers\n            </TabsTrigger>\n            <TabsTrigger value=\"smart-money\" className=\"data-[state=active]:bg-gray-700\">\n              <Target className=\"w-4 h-4 mr-2\" />\n              Smart Money\n            </TabsTrigger>\n            <TabsTrigger value=\"order-book\" className=\"data-[state=active]:bg-gray-700\">\n              <BarChart3 className=\"w-4 h-4 mr-2\" />\n              Order Book\n            </TabsTrigger>\n            <TabsTrigger value=\"trade-impact\" className=\"data-[state=active]:bg-gray-700\">\n              <Zap className=\"w-4 h-4 mr-2\" />\n              Trade Impact\n            </TabsTrigger>\n            <TabsTrigger value=\"algo-signatures\" className=\"data-[state=active]:bg-gray-700\">\n              <Network className=\"w-4 h-4 mr-2\" />\n              Algo Signatures\n            </TabsTrigger>\n          </TabsList>\n          \n          {/* Order Flow Analytics */}\n          <TabsContent value=\"order-flow\" className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <Card className=\"lg:col-span-2 bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Activity className=\"w-5 h-5\" />\n                    Order Flow Imbalance Tracking\n                  </CardTitle>\n                  <CardDescription>\n                    Real-time buy/sell pressure and order flow imbalance\n                  </CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <OrderFlowChart data={orderFlowData} />\n                </CardContent>\n              </Card>\n              \n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Imbalance Statistics</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div>\n                    <div className=\"flex justify-between text-sm text-gray-400 mb-1\">\n                      <span>Current Imbalance</span>\n                      <span className={getImbalanceColor(orderFlowData[orderFlowData.length - 1].imbalance)}>\n                        {orderFlowData[orderFlowData.length - 1].imbalance > 0 ? '+' : ''}\n                        {orderFlowData[orderFlowData.length - 1].imbalance.toFixed(1)}%\n                      </span>\n                    </div>\n                    <Progress \n                      value={Math.abs(orderFlowData[orderFlowData.length - 1].imbalance)} \n                      className=\"h-2\"\n                      indicatorClassName={orderFlowData[orderFlowData.length - 1].imbalance > 0 ? 'bg-green-500' : 'bg-red-500'}\n                    />\n                  </div>\n                  \n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <div className=\"text-sm text-gray-400\">Buy Pressure</div>\n                      <div className=\"text-2xl font-bold text-green-400\">\n                        {orderFlowData[orderFlowData.length - 1].buyPressure.toFixed(1)}%\n                      </div>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <div className=\"text-sm text-gray-400\">Sell Pressure</div>\n                      <div className=\"text-2xl font-bold text-red-400\">\n                        {orderFlowData[orderFlowData.length - 1].sellPressure.toFixed(1)}%\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div className=\"pt-4 border-t border-gray-700\">\n                    <div className=\"text-sm text-gray-400 mb-2\">Recent Imbalances</div>\n                    <div className=\"space-y-2\">\n                      {orderFlowData.slice().reverse().map((data, index) => (\n                        <div key={index} className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">\n                            {new Date(data.timestamp).toLocaleTimeString([], { minute: '2-digit', second: '2-digit' })}\n                          </span>\n                          <Badge \n                            variant=\"outline\" \n                            className={getImbalanceColor(data.imbalance)}\n                          >\n                            {data.imbalance > 0 ? '+' : ''}{data.imbalance.toFixed(1)}%\n                          </Badge>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <HiddenLiquidityDetector />\n              <SmartMoneyFlow />\n            </div>\n          </TabsContent>\n          \n          {/* HFT Pattern Detection */}\n          <TabsContent value=\"hft-patterns\" className=\"space-y-6\">\n            <HFTDetectionPanel patterns={hftPatterns} />\n            <AlgorithmicSignature />\n          </TabsContent>\n          \n          {/* Liquidity Analytics */}\n          <TabsContent value=\"liquidity\" className=\"space-y-6\">\n            <LiquidityMetrics metrics={liquidityMetrics} />\n            <TradeImpactModel />\n          </TabsContent>\n          \n          {/* Market Maker Analysis */}\n          <TabsContent value=\"market-makers\" className=\"space-y-6\">\n            <MarketMakerAnalysis makers={marketMakers} />\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Market Maker Concentration</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {marketMakers.map((maker) => (\n                      <div key={maker.makerId} className=\"space-y-2\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-sm font-medium\">{maker.makerId}</span>\n                          <span className=\"text-sm text-gray-400\">{maker.quoteUpdateFrequency} quotes/min</span>\n                        </div>\n                        <Progress value={maker.spreadTightness} className=\"h-2\" />\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n              \n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Aggression Analysis</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {marketMakers.map((maker) => (\n                      <div key={maker.makerId} className=\"flex items-center justify-between\">\n                        <span>{maker.makerId}</span>\n                        <div className=\"flex items-center gap-4\">\n                          <Badge variant={maker.aggression > 50 ? \"destructive\" : \"secondary\"}>\n                            Aggression: {maker.aggression}%\n                          </Badge>\n                          <Badge variant={maker.inventoryRisk > 30 ? \"destructive\" : \"secondary\"}>\n                            Risk: {maker.inventoryRisk}%\n                          </Badge>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n          </TabsContent>\n          \n          {/* Smart Money Flow */}\n          <TabsContent value=\"smart-money\" className=\"space-y-6\">\n            <SmartMoneyFlow detailed />\n          </TabsContent>\n          \n          {/* Limit Order Book Dynamics */}\n          <TabsContent value=\"order-book\" className=\"space-y-6\">\n            <LimitOrderBook symbol={symbol} />\n          </TabsContent>\n          \n          {/* Trade Impact Modeling */}\n          <TabsContent value=\"trade-impact\" className=\"space-y-6\">\n            <TradeImpactModel detailed />\n          </TabsContent>\n          \n          {/* Algorithmic Signatures */}\n          <TabsContent value=\"algo-signatures\" className=\"space-y-6\">\n            <AlgorithmicSignature detailed />\n          </TabsContent>\n        </Tabs>\n        \n        {/* Status Bar */}\n        <div className=\"mt-8 pt-6 border-t border-gray-800\">\n          <div className=\"flex flex-wrap items-center justify-between gap-4 text-sm text-gray-400\">\n            <div className=\"flex items-center gap-6\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" />\n                <span>Data Feed Active</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Shield className=\"w-4 h-4\" />\n                <span>Analysis Confidence: 94.2%</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Clock className=\"w-4 h-4\" />\n                <span>Latency: 12ms</span>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <Button variant=\"ghost\" size=\"sm\">\n                <Settings className=\"w-4 h-4 mr-2\" />\n                Settings\n              </Button>\n              <Button variant=\"ghost\" size=\"sm\">\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\n                Refresh All\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdvancedMarketMicrostructure;"
    },
    {
      "path": "src/components/market-microstructure/OrderFlowChart.tsx",
      "content": "'use client';\n\nimport React from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Area, AreaChart } from 'recharts';\nimport { Card, CardContent } from '@/components/ui/card';\n\ninterface OrderFlowData {\n  timestamp: number;\n  buyPressure: number;\n  sellPressure: number;\n  imbalance: number;\n  price: number;\n}\n\ninterface OrderFlowChartProps {\n  data: OrderFlowData[];\n}\n\nconst OrderFlowChart: React.FC<OrderFlowChartProps> = ({ data }) => {\n  const chartData = data.map(item => ({\n    time: new Date(item.timestamp).toLocaleTimeString([], { minute: '2-digit', second: '2-digit' }),\n    buyPressure: item.buyPressure,\n    sellPressure: item.sellPressure,\n    imbalance: item.imbalance,\n    price: item.price\n  }));\n  \n  return (\n    <div className=\"space-y-4\">\n      <div className=\"h-64\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <AreaChart data={chartData}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\n            <XAxis \n              dataKey=\"time\" \n              stroke=\"#9CA3AF\" \n              fontSize={12}\n            />\n            <YAxis \n              stroke=\"#9CA3AF\" \n              fontSize={12}\n              domain={[-50, 50]}\n            />\n            <Tooltip \n              contentStyle={{ \n                backgroundColor: '#1F2937', \n                borderColor: '#4B5563',\n                color: 'white'\n              }}\n            />\n            <Area \n              type=\"monotone\" \n              dataKey=\"imbalance\" \n              stroke=\"#8B5CF6\" \n              fill=\"url(#colorImbalance)\"\n              strokeWidth={2}\n            />\n            <defs>\n              <linearGradient id=\"colorImbalance\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor=\"#8B5CF6\" stopOpacity={0.8}/>\n                <stop offset=\"95%\" stopColor=\"#8B5CF6\" stopOpacity={0}/>\n              </linearGradient>\n            </defs>\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n      \n      <div className=\"grid grid-cols-2 gap-4\">\n        <Card className=\"bg-gray-800/50 border-gray-700\">\n          <CardContent className=\"pt-4\">\n            <div className=\"text-sm text-gray-400 mb-2\">Buy Pressure Trend</div>\n            <div className=\"h-16\">\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <LineChart data={chartData}>\n                  <Line \n                    type=\"monotone\" \n                    dataKey=\"buyPressure\" \n                    stroke=\"#10B981\" \n                    strokeWidth={2}\n                    dot={false}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card className=\"bg-gray-800/50 border-gray-700\">\n          <CardContent className=\"pt-4\">\n            <div className=\"text-sm text-gray-400 mb-2\">Sell Pressure Trend</div>\n            <div className=\"h-16\">\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <LineChart data={chartData}>\n                  <Line \n                    type=\"monotone\" \n                    dataKey=\"sellPressure\" \n                    stroke=\"#EF4444\" \n                    strokeWidth={2}\n                    dot={false}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderFlowChart;"
    },
    {
      "path": "src/components/market-microstructure/HFTDetectionPanel.tsx",
      "content": "'use client';\n\nimport React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { AlertTriangle, Cpu, Zap, Shield } from 'lucide-react';\n\ninterface HFTPattern {\n  id: string;\n  type: 'Spoofing' | 'QuoteStuffing' | 'MomentumIgnition' | 'Layering';\n  confidence: number;\n  timestamp: number;\n  impact: 'High' | 'Medium' | 'Low';\n}\n\ninterface HFTDetectionPanelProps {\n  patterns: HFTPattern[];\n}\n\nconst HFTDetectionPanel: React.FC<HFTDetectionPanelProps> = ({ patterns }) => {\n  const getPatternColor = (type: HFTPattern['type']) => {\n    switch (type) {\n      case 'Spoofing': return 'bg-purple-500/20 text-purple-400';\n      case 'QuoteStuffing': return 'bg-yellow-500/20 text-yellow-400';\n      case 'MomentumIgnition': return 'bg-red-500/20 text-red-400';\n      case 'Layering': return 'bg-blue-500/20 text-blue-400';\n    }\n  };\n  \n  const getImpactIcon = (impact: HFTPattern['impact']) => {\n    switch (impact) {\n      case 'High': return <AlertTriangle className=\"w-4 h-4\" />;\n      case 'Medium': return <Zap className=\"w-4 h-4\" />;\n      case 'Low': return <Shield className=\"w-4 h-4\" />;\n    }\n  };\n  \n  const patternDescriptions = {\n    'Spoofing': 'Placing large orders with intent to cancel before execution',\n    'QuoteStuffing': 'Flooding market with excessive orders to slow down competitors',\n    'MomentumIgnition': 'Creating artificial momentum to trigger other algorithms',\n    'Layering': 'Placing multiple orders on one side to create false depth'\n  };\n  \n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n      <Card className=\"lg:col-span-2 bg-gray-800 border-gray-700\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Cpu className=\"w-5 h-5\" />\n            HFT Pattern Detection\n          </CardTitle>\n          <CardDescription>\n            Real-time detection of high-frequency trading patterns\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {patterns.map((pattern) => (\n              <div \n                key={pattern.id} \n                className=\"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700 hover:border-gray-600 transition-colors\"\n              >\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"flex flex-col items-center\">\n                    <div className=\"text-2xl font-bold text-white\">\n                      {pattern.confidence}%\n                    </div>\n                    <div className=\"text-xs text-gray-400\">Confidence</div>\n                  </div>\n                  \n                  <div>\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <Badge className={getPatternColor(pattern.type)}>\n                        {pattern.type}\n                      </Badge>\n                      <Badge variant=\"outline\" className=\"flex items-center gap-1\">\n                        {getImpactIcon(pattern.impact)}\n                        {pattern.impact} Impact\n                      </Badge>\n                    </div>\n                    <p className=\"text-sm text-gray-400\">\n                      {patternDescriptions[pattern.type]}\n                    </p>\n                    <div className=\"text-xs text-gray-500 mt-1\">\n                      Detected: {new Date(pattern.timestamp).toLocaleTimeString()}\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-32 h-2 bg-gray-700 rounded-full overflow-hidden\">\n                    <div \n                      className=\"h-full bg-gradient-to-r from-purple-500 to-pink-500\"\n                      style={{ width: `${pattern.confidence}%` }}\n                    />\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n      \n      <Card className=\"bg-gray-800 border-gray-700\">\n        <CardHeader>\n          <CardTitle>Pattern Statistics</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-6\">\n            <div>\n              <div className=\"text-sm text-gray-400 mb-2\">Detection Rate</div>\n              <div className=\"text-3xl font-bold text-white\">94.7%</div>\n              <div className=\"text-sm text-green-400\">+2.3% from yesterday</div>\n            </div>\n            \
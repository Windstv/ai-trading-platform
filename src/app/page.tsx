'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { \n  LineChart, Line, BarChart, Bar, ScatterChart, Scatter, \n  XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, \n  RadarChart, Radar, PolarGrid, PolarAngleAxis, PolarRadiusAxis,\n  Heatmap, HeatmapCell\n} from 'recharts';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Slider } from '@/components/ui/slider';\nimport { Switch } from '@/components/ui/switch';\nimport { Badge } from '@/components/ui/badge';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  Search, \n  Filter, \n  Download, \n  Play, \n  Pause, \n  RefreshCw, \n  BarChart3, \n  TrendingUp, \n  Cpu, \n  Zap, \n  Shield, \n  AlertTriangle,\n  ChevronRight,\n  ChevronLeft,\n  Activity,\n  Globe,\n  Layers,\n  AlertCircle,\n  Target,\n  PieChart,\n  Network,\n  TrendingDown\n} from 'lucide-react';\n\n// Types\ninterface StatisticalArbitragePair {\n  id: string;\n  asset1: string;\n  asset2: string;\n  correlation: number;\n  spread: number;\n  zScore: number;\n  halfLife: number;\n  entryThreshold: number;\n  exitThreshold: number;\n  sharpeRatio: number;\n  status: 'active' | 'inactive' | 'alert';\n}\n\ninterface MLFeature {\n  name: string;\n  type: 'technical' | 'fundamental' | 'market' | 'sentiment';\n  importance: number;\n  correlation: number;\n  stability: number;\n}\n\ninterface FactorModel {\n  factor: string;\n  exposure: number;\n  riskPremium: number;\n  tStat: number;\n  pValue: number;\n  rSquared: number;\n}\n\ninterface PortfolioWeight {\n  symbol: string;\n  name: string;\n  mvoWeight: number;\n  riskParityWeight: number;\n  blackLittermanWeight: number;\n  currentWeight: number;\n}\n\ninterface MonteCarloResult {\n  iteration: number;\n  portfolioReturn: number;\n  portfolioVolatility: number;\n  sharpeRatio: number;\n  maxDrawdown: number;\n}\n\ninterface PerformanceMetric {\n  metric: string;\n  value: number;\n  benchmark: number;\n  explanation: string;\n}\n\ninterface RiskFactor {\n  factor: string;\n  exposure: number;\n  contribution: number;\n  risk: number;\n  color: string;\n}\n\ninterface CrossAssetCorrelation {\n  asset1: string;\n  asset2: string;\n  correlation: number;\n  rollingCorrelation: number[];\n  regime: 'high' | 'medium' | 'low';\n}\n\n// New Types for Correlation Risk Engine\ninterface CorrelationMatrixEntry {\n  asset1: string;\n  asset2: string;\n  correlation: number;\n  rolling30d: number;\n  rolling90d: number;\n  regime: 'high' | 'medium' | 'low' | 'negative';\n  significance: number;\n}\n\ninterface SystemicRiskAlert {\n  id: string;\n  type: 'correlation_breakdown' | 'volatility_spike' | 'liquidity_crisis' | 'contagion_risk';\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  assets: string[];\n  description: string;\n  timestamp: string;\n  impactScore: number;\n}\n\ninterface DiversificationMetric {\n  metric: string;\n  value: number;\n  target: number;\n  status: 'good' | 'warning' | 'danger';\n  description: string;\n}\n\ninterface CorrelationPrediction {\n  assetPair: string;\n  currentCorrelation: number;\n  predictedCorrelation: number;\n  confidence: number;\n  direction: 'increasing' | 'decreasing' | 'stable';\n  timeframe: '1d' | '1w' | '1m';\n}\n\ninterface PortfolioOptimization {\n  symbol: string;\n  currentWeight: number;\n  optimizedWeight: number;\n  change: number;\n  riskContribution: number;\n  correlationPenalty: number;\n}\n\ninterface AssetClassCorrelation {\n  class: string;\n  stocks: number;\n  crypto: number;\n  forex: number;\n  commodities: number;\n  bonds: number;\n}\n\nexport default function QuantitativeResearchModule() {\n  // State for Statistical Arbitrage\n  const [arbitragePairs, setArbitragePairs] = useState<StatisticalArbitragePair[]>([\n    { id: '1', asset1: 'BTC', asset2: 'ETH', correlation: 0.85, spread: 1.2, zScore: 2.1, halfLife: 15, entryThreshold: 2.0, exitThreshold: 0.5, sharpeRatio: 1.8, status: 'active' },\n    { id: '2', asset1: 'AAPL', asset2: 'MSFT', correlation: 0.78, spread: 0.8, zScore: 1.5, halfLife: 20, entryThreshold: 2.0, exitThreshold: 0.5, sharpeRatio: 1.2, status: 'active' },\n    { id: '3', asset1: 'EUR/USD', asset2: 'GBP/USD', correlation: 0.92, spread: 0.3, zScore: 0.8, halfLife: 10, entryThreshold: 2.0, exitThreshold: 0.5, sharpeRatio: 2.1, status: 'inactive' },\n    { id: '4', asset1: 'XAU', asset2: 'XAG', correlation: 0.65, spread: 2.1, zScore: 2.8, halfLife: 25, entryThreshold: 2.0, exitThreshold: 0.5, sharpeRatio: 0.9, status: 'alert' },\n  ]);\n  \n  // State for ML Feature Engineering\n  const [mlFeatures, setMlFeatures] = useState<MLFeature[]>([\n    { name: 'RSI_14', type: 'technical', importance: 0.85, correlation: 0.72, stability: 0.88 },\n    { name: 'MACD', type: 'technical', importance: 0.78, correlation: 0.65, stability: 0.82 },\n    { name: 'Volume_Profile', type: 'market', importance: 0.92, correlation: 0.81, stability: 0.91 },\n    { name: 'Order_Flow_Imbalance', type: 'market', importance: 0.88, correlation: 0.76, stability: 0.79 },\n    { name: 'Sentiment_Score', type: 'sentiment', importance: 0.65, correlation: 0.58, stability: 0.71 },\n    { name: 'P/E_Ratio', type: 'fundamental', importance: 0.72, correlation: 0.63, stability: 0.85 },\n  ]);\n\n  // State for Correlation Risk Engine\n  const [correlationMatrix, setCorrelationMatrix] = useState<CorrelationMatrixEntry[]>([\n    { asset1: 'BTC', asset2: 'ETH', correlation: 0.85, rolling30d: 0.82, rolling90d: 0.78, regime: 'high', significance: 0.95 },\n    { asset1: 'BTC', asset2: 'SPY', correlation: 0.45, rolling30d: 0.52, rolling90d: 0.38, regime: 'medium', significance: 0.88 },\n    { asset1: 'BTC', asset2: 'GLD', correlation: -0.15, rolling30d: -0.08, rolling90d: -0.22, regime: 'negative', significance: 0.76 },\n    { asset1: 'ETH', asset2: 'SPY', correlation: 0.42, rolling30d: 0.48, rolling90d: 0.35, regime: 'medium', significance: 0.85 },\n    { asset1: 'SPY', asset2: 'QQQ', correlation: 0.92, rolling30d: 0.91, rolling90d: 0.89, regime: 'high', significance: 0.98 },\n    { asset1: 'EUR/USD', asset2: 'USD/JPY', correlation: -0.68, rolling30d: -0.65, rolling90d: -0.72, regime: 'negative', significance: 0.92 },\n    { asset1: 'XAU', asset2: 'DXY', correlation: -0.82, rolling30d: -0.78, rolling90d: -0.85, regime: 'negative', significance: 0.94 },\n    { asset1: 'AAPL', asset2: 'MSFT', correlation: 0.78, rolling30d: 0.75, rolling90d: 0.72, regime: 'high', significance: 0.96 },\n  ]);\n\n  const [systemicRiskAlerts, setSystemicRiskAlerts] = useState<SystemicRiskAlert[]>([\n    { id: '1', type: 'correlation_breakdown', severity: 'high', assets: ['BTC', 'ETH'], description: 'BTC-ETH correlation dropped from 0.85 to 0.62 in 24h', timestamp: '2024-01-15 14:30', impactScore: 78 },\n    { id: '2', type: 'volatility_spike', severity: 'medium', assets: ['SPY', 'QQQ'], description: 'VIX spike detected across equity markets', timestamp: '2024-01-15 13:45', impactScore: 65 },\n    { id: '3', type: 'liquidity_crisis', severity: 'critical', assets: ['BTC', 'ETH', 'SOL'], description: 'Liquidity depth reduced by 40% in crypto markets', timestamp: '2024-01-15 12:15', impactScore: 92 },\n    { id: '4', type: 'contagion_risk', severity: 'high', assets: ['EUR/USD', 'GBP/USD', 'USD/JPY'], description: 'Currency correlation convergence above 0.9', timestamp: '2024-01-15 11:30', impactScore: 81 },\n  ]);\n\n  const [diversificationMetrics, setDiversificationMetrics] = useState<DiversificationMetric[]>([\n    { metric: 'Portfolio Correlation', value: 0.65, target: 0.3, status: 'danger', description: 'High correlation reduces diversification benefits' },\n    { metric: 'Effective Number of Assets', value: 8.2, target: 15, status: 'warning', description: 'Below optimal diversification level' },\n    { metric: 'Maximum Drawdown Correlation', value: 0.78, target: 0.5, status: 'danger', description: 'Assets tend to drawdown together' },\n    { metric: 'Risk Parity Score', value: 0.42, target: 0.8, status: 'warning', description: 'Risk not evenly distributed across assets' },\n    { metric: 'Cross-Asset Diversification', value: 0.58, target: 0.7, status: 'warning', description: 'Moderate diversification across asset classes' },\n  ]);\n\n  const [correlationPredictions, setCorrelationPredictions] = useState<CorrelationPrediction[]>([\n    { assetPair: 'BTC-ETH', currentCorrelation: 0.85, predictedCorrelation: 0.72, confidence: 0.82, direction: 'decreasing', timeframe: '1w' },\n    { assetPair: 'SPY-GLD', currentCorrelation: -0.15, predictedCorrelation: -0.32, confidence: 0.76, direction: 'decreasing', timeframe: '1m' },\n    { assetPair: 'AAPL-MSFT', currentCorrelation: 0.78, predictedCorrelation: 0.81, confidence: 0.88, direction: 'increasing', timeframe: '1d' },\n    { assetPair: 'EUR/USD-USD/JPY', currentCorrelation: -0.68, predictedCorrelation: -0.55, confidence: 0.71, direction: 'increasing', timeframe: '1w' },\n  ]);\n\n  const [portfolioOptimization, setPortfolioOptimization] = useState<PortfolioOptimization[]>([\n    { symbol: 'BTC', currentWeight: 0.25, optimizedWeight: 0.18, change: -0.07, riskContribution: 0.42, correlationPenalty: 0.15 },\n    { symbol: 'ETH', currentWeight: 0.15, optimizedWeight: 0.12, change: -0.03, riskContribution: 0.28, correlationPenalty: 0.12 },\n    { symbol: 'SPY', currentWeight: 0.20, optimizedWeight: 0.25, change: 0.05, riskContribution: 0.18, correlationPenalty: 0.08 },\n    { symbol: 'GLD', currentWeight: 0.10, optimizedWeight: 0.15, change: 0.05, riskContribution: 0.08, correlationPenalty: -0.05 },\n    { symbol: 'AAPL', currentWeight: 0.30, optimizedWeight: 0.30, change: 0.00, riskContribution: 0.22, correlationPenalty: 0.10 },\n  ]);\n\n  const [assetClassCorrelations, setAssetClassCorrelations] = useState<AssetClassCorrelation[]>([\n    { class: 'Stocks', stocks: 1.00, crypto: 0.45, forex: 0.32, commodities: 0.28, bonds: -0.15 },\n    { class: 'Crypto', stocks: 0.45, crypto: 1.00, forex: 0.18, commodities: 0.22, bonds: 0.05 },\n    { class: 'Forex', stocks: 0.32, crypto: 0.18, forex: 1.00, commodities: 0.42, bonds: 0.38 },\n    { class: 'Commodities', stocks: 0.28, crypto: 0.22, forex: 0.42, commodities: 1.00, bonds: 0.25 },\n    { class: 'Bonds', stocks: -0.15, crypto: 0.05, forex: 0.38, commodities: 0.25, bonds: 1.00 },\n  ]);\n\n  const [selectedTimeframe, setSelectedTimeframe] = useState<'1d' | '1w' | '1m' | '3m'>('1w');\n  const [autoRebalance, setAutoRebalance] = useState(false);\n  const [riskThreshold, setRiskThreshold] = useState(75);\n  const [selectedAssetClass, setSelectedAssetClass] = useState<string>('all');\n\n  // Generate correlation heatmap data\n  const heatmapData = correlationMatrix.map(entry => ({\n    x: entry.asset1,\n    y: entry.asset2,\n    value: entry.correlation,\n  }));\n\n  // Calculate portfolio metrics\n  const calculatePortfolioMetrics = () => {\n    const totalRisk = portfolioOptimization.reduce((sum, asset) => sum + asset.riskContribution, 0);\n    const avgCorrelationPenalty = portfolioOptimization.reduce((sum, asset) => sum + asset.correlationPenalty, 0) / portfolioOptimization.length;\n    const diversificationScore = 100 * (1 - avgCorrelationPenalty);\n    \n    return {\n      totalRisk,\n      avgCorrelationPenalty,\n      diversificationScore,\n      optimizationImprovement: 12.5, // Mock improvement percentage\n    };\n  };\n\n  const portfolioMetrics = calculatePortfolioMetrics();\n\n  // Handle auto-rebalance\n  useEffect(() => {\n    if (autoRebalance) {\n      const interval = setInterval(() => {\n        // Simulate real-time correlation updates\n        setCorrelationMatrix(prev => prev.map(entry => ({\n          ...entry,\n          correlation: entry.correlation + (Math.random() - 0.5) * 0.05,\n          rolling30d: entry.rolling30d + (Math.random() - 0.5) * 0.03,\n        })));\n      }, 5000);\n\n      return () => clearInterval(interval);\n    }\n  }, [autoRebalance]);\n\n  // Get severity color\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case 'critical': return 'bg-red-500';\n      case 'high': return 'bg-orange-500';\n      case 'medium': return 'bg-yellow-500';\n      case 'low': return 'bg-green-500';\n      default: return 'bg-gray-500';\n    }\n  };\n\n  // Get status color\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'good': return 'text-green-400';\n      case 'warning': return 'text-yellow-400';\n      case 'danger': return 'text-red-400';\n      default: return 'text-gray-400';\n    }\n  };\n\n  // Get correlation color\n  const getCorrelationColor = (value: number) => {\n    if (value >= 0.7) return 'text-red-400';\n    if (value >= 0.3) return 'text-yellow-400';\n    if (value >= -0.3) return 'text-green-400';\n    return 'text-blue-400';\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold flex items-center gap-2\">\n              <Network className=\"w-8 h-8 text-blue-400\" />\n              Cross-Asset Correlation Risk Engine\n            </h1>\n            <p className=\"text-gray-400 mt-2\">Real-time systemic risk analysis and portfolio optimization</p>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <Button variant=\"outline\" className=\"border-gray-700\">\n              <RefreshCw className=\"w-4 h-4 mr-2\" />\n              Refresh Data\n            </Button>\n            <Button className=\"bg-blue-600 hover:bg-blue-700\">\n              <Download className=\"w-4 h-4 mr-2\" />\n              Export Report\n            </Button>\n          </div>\n        </div>\n\n        <Tabs defaultValue=\"correlation\" className=\"mb-8\">\n          <TabsList className=\"grid grid-cols-5 w-full max-w-2xl bg-gray-800\">\n            <TabsTrigger value=\"correlation\" className=\"data-[state=active]:bg-gray-700\">\n              <Globe className=\"w-4 h-4 mr-2\" />\n              Correlation Matrix\n            </TabsTrigger>\n            <TabsTrigger value=\"risk\" className=\"data-[state=active]:bg-gray-700\">\n              <Shield className=\"w-4 h-4 mr-2\" />\n              Risk Alerts\n            </TabsTrigger>\n            <TabsTrigger value=\"diversification\" className=\"data-[state=active]:bg-gray-700\">\n              <PieChart className=\"w-4 h-4 mr-2\" />\n              Diversification\n            </TabsTrigger>\n            <TabsTrigger value=\"optimization\" className=\"data-[state=active]:bg-gray-700\">\n              <Target className=\"w-4 h-4 mr-2\" />\n              Optimization\n            </TabsTrigger>\n            <TabsTrigger value=\"predictions\" className=\"data-[state=active]:bg-gray-700\">\n              <Cpu className=\"w-4 h-4 mr-2\" />\n              AI Predictions\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Correlation Matrix Tab */}\n          <TabsContent value=\"correlation\" className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n              <Card className=\"lg:col-span-2 bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <Activity className=\"w-5 h-5 text-blue-400\" />\n                    Real-time Correlation Heatmap\n                  </CardTitle>\n                  <CardDescription>Cross-asset correlation matrix with rolling windows</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"h-96\">\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <ScatterChart>\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\n                        <XAxis \n                          dataKey=\"x\" \n                          type=\"category\" \n                          allowDuplicatedCategory={false}\n                          stroke=\"#9CA3AF\"\n                        />\n                        <YAxis \n                          dataKey=\"y\" \n                          type=\"category\" \n                          allowDuplicatedCategory={false}\n                          stroke=\"#9CA3AF\"\n                        />\n                        <Tooltip \n                          contentStyle={{ \n                            backgroundColor: '#1F2937', \n                            borderColor: '#374151',\n                            color: 'white'\n                          }}\n                          formatter={(value: number) => [value.toFixed(3), 'Correlation']}\n                        />\n                        <Scatter \n                          name=\"Correlation\" \n                          data={heatmapData} \n                          fill=\"#8884d8\"\n                          shape=\"circle\"\n                        />\n                      </ScatterChart>\n                    </ResponsiveContainer>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Asset Class Correlations</CardTitle>\n                  <CardDescription>Inter-class correlation analysis</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {assetClassCorrelations.map((assetClass, index) => (\n                      <div key={index} className=\"space-y-2\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"font-medium\">{assetClass.class}</span>\n                          <span className=\"text-sm text-gray-400\">vs other classes</span>\n                        </div>\n                        <div className=\"grid grid-cols-5 gap-2 text-xs\">\n                          <div className=\"text-center\">\n                            <div className={`p-1 rounded ${getCorrelationColor(assetClass.stocks)}`}>\n                              {assetClass.stocks.toFixed(2)}\n                            </div>\n                            <div className=\"text-gray-500\">Stocks</div>\n                          </div>\n                          <div className=\"text-center\">\n                            <div className={`p-1 rounded ${getCorrelationColor(assetClass.crypto)}`}>\n                              {assetClass.crypto.toFixed(2)}\n                            </div>\n                            <div className=\"text-gray-500\">Crypto</div>\n                          </div>\n                          <div className=\"text-center\">\n                            <div className={`p-1 rounded ${getCorrelationColor(assetClass.forex)}`}>\n                              {assetClass.forex.toFixed(2)}\n                            </div>\n                            <div className=\"text-gray-500\">Forex</div>\n                          </div>\n                          <div className=\"text-center\">\n                            <div className={`p-1 rounded ${getCorrelationColor(assetClass.commodities)}`}>\n                              {assetClass.commodities.toFixed(2)}\n                            </div>\n                            <div className=\"text-gray-500\">Commodities</div>\n                          </div>\n                          <div className=\"text-center\">\n                            <div className={`p-1 rounded ${getCorrelationColor(assetClass.bonds)}`}>\n                              {assetClass.bonds.toFixed(2)}\n                            </div>\n                            <div className=\"text-gray-500\">Bonds</div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n\n            <Card className=\"bg-gray-800 border-gray-700\">\n              <CardHeader>\n                <CardTitle>Detailed Correlation Matrix</CardTitle>\n                <CardDescription>Pairwise correlation analysis with statistical significance</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full\">\n                    <thead>\n                      <tr className=\"border-b border-gray-700\">\n                        <th className=\"text-left py-3 px-4\">Asset Pair</th>\n                        <th className=\"text-left py-3 px-4\">Current</th>\n                        <th className=\"text-left py-3 px-4\">30D Rolling</th>\n                        <th className=\"text-left py-3 px-4\">90D Rolling</th>\n                        <th className=\"text-left py-3 px-4\">Regime</th>\n                        <th className=\"text-left py-3 px-4\">Significance</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {correlationMatrix.map((entry, index) => (\n                        <tr key={index} className=\"border-b border-gray-700 hover:bg-gray-750\">\n                          <td className=\"py-3 px-4\">\n                            <div className=\"font-medium\">{entry.asset1} / {entry.asset2}</div>\n                          </td>\n                          <td className=\"py-3 px-4\">\n                            <span className={getCorrelationColor(entry.correlation)}>\n                              {entry.correlation.toFixed(3)}\n                            </span>\n                          </td>\n                          <td className=\"py-3 px-4\">\n                            <span className={getCorrelationColor(entry.rolling30d)}>\n                              {entry.rolling30d.toFixed(3)}\n                            </span>\n                          </td>\n                          <td className=\"py-3 px-4\">\n                            <span className={getCorrelationColor(entry.rolling90d)}>\n                              {entry.rolling90d.toFixed(3)}\n                            </span>\n                          </td>\n                          <td className=\"py-3 px-4\">\n                            <Badge \n                              variant=\"outline\" \n                              className={entry.regime === 'high' ? 'border-red-500 text-red-400' : \n                                        entry.regime === 'negative' ? 'border-blue-500 text-blue-400' : \n                                        'border-yellow-500 text-yellow-400'}\n                            >\n                              {entry.regime}\n                            </Badge>\n                          </td>\n                          <td className=\"py-3 px-4\">\n                            <div className=\"flex items-center gap-2\">\n                              <Progress value={entry.significance * 100} className=\"w-24\" />\n                              <span>{(entry.significance * 100).toFixed(0)}%</span>\n                            </div>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          {/* Risk Alerts Tab */}\n          <TabsContent value=\"risk\" className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <AlertCircle className=\"w-5 h-5 text-red-400\" />\n                    Systemic Risk Alerts\n                  </CardTitle>\n                  <CardDescription>Real-time monitoring of cross-market risks</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    {systemicRiskAlerts.map((alert) => (\n                      <div \n                        key={alert.id} \n                        className={`p-4 rounded-lg border ${alert.severity === 'critical' ? 'border-red-500 bg-red-500/10' : \n                                  alert.severity === 'high' ? 'border-orange-500 bg-orange-500/10' : \n                                  alert.severity === 'medium' ? 'border-yellow-500 bg-yellow-500/10' : \n                                  'border-green-500 bg-green-500/10'}`}\n                      >\n                        <div className=\"flex justify-between items-start mb-2\">\n                          <div className=\"flex items-center gap-2\">\n                            <div className={`w-3 h-3 rounded-full ${getSeverityColor(alert.severity)}`} />\n                            <span className=\"font-medium capitalize\">{alert.type.replace('_', ' ')}</span>\n                            <Badge className=\"ml-2\">{alert.severity.toUpperCase()}</Badge>\n                          </div>\n                          <span className=\"text-sm text-gray-400\">{alert.timestamp}</span>\n                        </div>\n                        <p className=\"text-sm mb-3\">{alert.description}</p>\n                        <div className=\"flex justify-between items-center\">\n                          <div className=\"flex items-center gap-2\">\n                            <span className=\"text-sm text-gray-400\">Assets:</span>\n                            <div className=\"flex gap-1\">\n                              {alert.assets.map((asset, idx) => (\n                                <Badge key={idx} variant=\"outline\" className=\"border-gray-600\">\n                                  {asset}\n                                </Badge>\n                              ))}\n                            </div>\n                          </div>\n                          <div className=\"text-right\">\n                            <div className=\"text-lg font-bold\">{alert.impactScore}</div>\n                            <div className=\"text-xs text-gray-400\">Impact Score</div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card className=\"bg-gray-800 border-gray-700\">\n                <CardHeader>\n                  <CardTitle>Risk Dashboard</CardTitle>\n                  <CardDescription>Portfolio risk metrics and thresholds</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-6\">\n                    <div>\n                      <div className=\"flex justify-between mb-2\">\n                        <Label>Risk Threshold: {riskThreshold}%</Label>\n                        <span className=\"text-sm text-gray-400\">Adjust sensitivity</span>\n                      </div>\n                      <Slider \n                        value={[riskThreshold]} \n                        onValueChange={([value]) => setRiskThreshold(value)}\n                        max={100}\n                        step={1}\n                        className=\"w-full\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"w-3 h-3 rounded-full bg-green-500\" />\n                          <span>Low Risk Periods</span>\n                        </div>\n                        <span className=\"font-bold\">68%</span>\n                      </div>\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"w-3 h-3 rounded-full bg-yellow-500\" />\n                          <span>Elevated Risk</span>\n                        </div>\n                        <span className=\"font-bold\">24%</span>\n                      </div>\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2\">\n                          <div className=\"w-3 h-3 rounded-full bg-red-500\" />\n                          <span>High Risk Alerts</span>\n                        </div>\n                        <span className=\"font-bold\">8%</span>\n                      </div>\n                    </div>\n\n                    <div className=\"pt-4 border-t border-gray-700\">\n                      <div
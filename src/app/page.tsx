'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport ExchangeSelector from '@/components/trade/ExchangeSelector';\nimport OrderForm from '@/components/trade/OrderForm';\nimport OrderStatusTracker from '@/components/trade/OrderStatusTracker';\nimport TradeHistory from '@/components/trade/TradeHistory';\nimport FeeCalculator from '@/components/trade/FeeCalculator';\nimport { useTradeStore } from '@/stores/tradeStore';\nimport { ExchangeAPI } from '@/lib/exchange-api';\n\nexport default function TradeExecutionPage() {\n  const {\n    selectedExchange,\n    selectedSymbol,\n    orders,\n    trades,\n    addOrder,\n    updateOrder,\n    addTrade,\n    setConnectionStatus\n  } = useTradeStore();\n  \n  const [isConnected, setIsConnected] = useState(false);\n  const [apiError, setApiError] = useState<string | null>(null);\n  \n  // Initialize exchange connection\n  useEffect(() => {\n    const initExchange = async () => {\n      if (selectedExchange) {\n        try {\n          await ExchangeAPI.connect(selectedExchange);\n          setIsConnected(true);\n          setConnectionStatus('connected');\n          setApiError(null);\n        } catch (error) {\n          setIsConnected(false);\n          setConnectionStatus('disconnected');\n          setApiError(`Failed to connect to ${selectedExchange}: ${error.message}`);\n        }\n      }\n    };\n    \n    initExchange();\n    \n    return () => {\n      ExchangeAPI.disconnect();\n      setIsConnected(false);\n      setConnectionStatus('disconnected');\n    };\n  }, [selectedExchange, setConnectionStatus]);\n  \n  const handleOrderSubmit = async (orderData: any) => {\n    try {\n      if (!isConnected) {\n        throw new Error('Not connected to exchange');\n      }\n      \n      // Validate order\n      const validation = ExchangeAPI.validateOrder(orderData);\n      if (!validation.valid) {\n        throw new Error(validation.error);\n      }\n      \n      // Create pending order\n      const pendingOrder = {\n        id: `order_${Date.now()}`,\n        ...orderData,\n        status: 'pending',\n        timestamp: new Date().toISOString(),\n        exchange: selectedExchange\n      };\n      \n      addOrder(pendingOrder);\n      \n      // Execute order\n      const result = await ExchangeAPI.executeOrder(orderData);\n      \n      // Update order status\n      updateOrder(pendingOrder.id, {\n        status: 'filled',\n        orderId: result.orderId,\n        filledQuantity: result.filledQuantity,\n        avgPrice: result.avgPrice,\n        fees: result.fees\n      });\n      \n      // Add to trade history\n      addTrade({\n        id: `trade_${Date.now()}`,\n        orderId: pendingOrder.id,\n        exchangeOrderId: result.orderId,\n        symbol: orderData.symbol,\n        side: orderData.side,\n        quantity: result.filledQuantity,\n        price: result.avgPrice,\n        fees: result.fees,\n        timestamp: new Date().toISOString(),\n        exchange: selectedExchange\n      });\n      \n    } catch (error) {\n      console.error('Order execution failed:', error);\n      setApiError(error.message);\n      \n      // Update order status to failed\n      if (orderData.id) {\n        updateOrder(orderData.id, {\n          status: 'failed',\n          error: error.message\n        });\n      }\n    }\n  };\n  \n  const handleCancelOrder = async (orderId: string) => {\n    try {\n      const order = orders.find(o => o.id === orderId);\n      if (!order) throw new Error('Order not found');\n      \n      if (order.exchangeOrderId) {\n        await ExchangeAPI.cancelOrder(order.exchangeOrderId);\n      }\n      \n      updateOrder(orderId, { status: 'cancelled' });\n    } catch (error) {\n      console.error('Cancel order failed:', error);\n      setApiError(error.message);\n    }\n  };\n  \n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white p-6\">\n      <div className=\"container mx-auto\">\n        <h1 className=\"text-3xl font-bold mb-6\">Trade Execution Module</h1>\n        \n        {/* Connection Status */}\n        <div className=\"mb-6\">\n          <div className={`inline-flex items-center px-4 py-2 rounded-lg ${isConnected ? 'bg-green-900 text-green-200' : 'bg-red-900 text-red-200'}`}>\n            <div className={`w-3 h-3 rounded-full mr-2 ${isConnected ? 'bg-green-500' : 'bg-red-500'}`}></div>\n            {isConnected ? `Connected to ${selectedExchange}` : 'Disconnected'}\n          </div>\n          {apiError && (\n            <div className=\"mt-2 p-3 bg-red-900 text-red-200 rounded-lg\">\n              Error: {apiError}\n            </div>\n          )}\n        </div>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Column */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Exchange and Symbol Selection */}\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg\">\n              <ExchangeSelector />\n            </div>\n            \n            {/* Order Form */}\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg\">\n              <h2 className=\"text-xl font-semibold mb-4\">New Order</h2>\n              <OrderForm \n                onSubmit={handleOrderSubmit}\n                isConnected={isConnected}\n                selectedSymbol={selectedSymbol}\n              />\n            </div>\n            \n            {/* Order Status Tracker */}\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg\">\n              <OrderStatusTracker \n                orders={orders}\n                onCancelOrder={handleCancelOrder}\n              />\n            </div>\n          </div>\n          \n          {/* Right Column */}\n          <div className=\"space-y-6\">\n            {/* Fee Calculator */}\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg\">\n              <FeeCalculator \n                exchange={selectedExchange}\n                symbol={selectedSymbol}\n              />\n            </div>\n            \n            {/* Trade History */}\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg\">\n              <TradeHistory trades={trades} />\n            </div>\n            \n            {/* Quick Stats */}\n            <div className=\"bg-gray-800 p-6 rounded-xl shadow-lg\">\n              <h2 className=\"text-xl font-semibold mb-4\">Trading Stats</h2>\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Total Orders:</span>\n                  <span className=\"font-semibold\">{orders.length}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Successful Trades:</span>\n                  <span className=\"font-semibold text-green-400\">\n                    {trades.filter(t => t.status === 'filled').length}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Failed Orders:</span>\n                  <span className=\"font-semibold text-red-400\">\n                    {orders.filter(o => o.status === 'failed').length}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"     },     {       "path": "src/components/trade/ExchangeSelector.tsx",       "content": "'use client';\n\nimport React from 'react';\nimport { useTradeStore } from '@/stores/tradeStore';\n\nexport default function ExchangeSelector() {\n  const { selectedExchange, selectedSymbol, setSelectedExchange, setSelectedSymbol } = useTradeStore();\n  \n  const exchanges = [\n    { id: 'binance', name: 'Binance', supportedSymbols: ['BTC/USDT', 'ETH/USDT', 'BNB/USDT'] },\n    { id: 'kraken', name: 'Kraken', supportedSymbols: ['BTC/USD', 'ETH/USD', 'XRP/USD'] },\n  ];\n  \n  const handleExchangeChange = (exchangeId: string) => {\n    const exchange = exchanges.find(e => e.id === exchangeId);\n    if (exchange) {\n      setSelectedExchange(exchangeId);\n      // Reset symbol when exchange changes\n      setSelectedSymbol(exchange.supportedSymbols[0]);\n    }\n  };\n  \n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Exchange & Symbol</h2>\n      \n      <div className=\"space-y-4\">\n        {/* Exchange Selection */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Select Exchange\n          </label>\n          <div className=\"flex space-x-2\">\n            {exchanges.map((exchange) => (\n              <button\n                key={exchange.id}\n                onClick={() => handleExchangeChange(exchange.id)}\n                className={`px-4 py-2 rounded-lg transition-colors ${\n                  selectedExchange === exchange.id\n                    ? 'bg-blue-600 text-white'\n                    : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n                }`}\n              >\n                {exchange.name}\n              </button>\n            ))}\n          </div>\n        </div>\n        \n        {/* Symbol Selection */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Trading Pair\n          </label>\n          <div className=\"flex flex-wrap gap-2\">\n            {selectedExchange && exchanges\n              .find(e => e.id === selectedExchange)\n              ?.supportedSymbols.map((symbol) => (\n                <button\n                  key={symbol}\n                  onClick={() => setSelectedSymbol(symbol)}\n                  className={`px-3 py-1.5 rounded-lg transition-colors ${\n                    selectedSymbol === symbol\n                      ? 'bg-blue-600 text-white'\n                      : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n                  }`}\n                >\n                  {symbol}\n                </button>\n              ))}\n          </div>\n        </div>\n        \n        {/* Current Selection Display */}\n        <div className=\"p-4 bg-gray-700 rounded-lg\">\n          <div className=\"text-sm text-gray-400\">Selected:</div>\n          <div className=\"text-lg font-semibold\">\n            {selectedExchange ? exchanges.find(e => e.id === selectedExchange)?.name : 'No exchange selected'} • {selectedSymbol || 'No symbol selected'}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"     },     {       "path": "src/components/trade/OrderForm.tsx",       "content": "'use client';\n\nimport React, { useState } from 'react';\nimport { useTradeStore } from '@/stores/tradeStore';\n\ninterface OrderFormProps {\n  onSubmit: (orderData: any) => void;\n  isConnected: boolean;\n  selectedSymbol: string;\n}\n\nexport default function OrderForm({ onSubmit, isConnected, selectedSymbol }: OrderFormProps) {\n  const [orderType, setOrderType] = useState<'market' | 'limit'>('limit');\n  const [side, setSide] = useState<'buy' | 'sell'>('buy');\n  const [quantity, setQuantity] = useState('');\n  const [price, setPrice] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  \n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!isConnected) {\n      alert('Please connect to an exchange first');\n      return;\n    }\n    \n    if (!selectedSymbol) {\n      alert('Please select a trading pair');\n      return;\n    }\n    \n    const orderData = {\n      type: orderType,\n      side,\n      symbol: selectedSymbol,\n      quantity: parseFloat(quantity),\n      price: orderType === 'limit' ? parseFloat(price) : undefined,\n    };\n    \n    setIsSubmitting(true);\n    try {\n      await onSubmit(orderData);\n      // Reset form on success\n      setQuantity('');\n      setPrice('');\n    } catch (error) {\n      console.error('Order submission error:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  \n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      {/* Order Type Selection */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n          Order Type\n        </label>\n        <div className=\"flex space-x-2\">\n          <button\n            type=\"button\"\n            onClick={() => setOrderType('market')}\n            className={`flex-1 py-2 rounded-lg transition-colors ${\n              orderType === 'market'\n                ? 'bg-blue-600 text-white'\n                : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n            }`}\n          >\n            Market\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => setOrderType('limit')}\n            className={`flex-1 py-2 rounded-lg transition-colors ${\n              orderType === 'limit'\n                ? 'bg-blue-600 text-white'\n                : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n            }`}\n          >\n            Limit\n          </button>\n        </div>\n      </div>\n      \n      {/* Side Selection */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n          Side\n        </label>\n        <div className=\"flex space-x-2\">\n          <button\n            type=\"button\"\n            onClick={() => setSide('buy')}\n            className={`flex-1 py-2 rounded-lg transition-colors ${\n              side === 'buy'\n                ? 'bg-green-600 text-white'\n                : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n            }`}\n          >\n            Buy\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => setSide('sell')}\n            className={`flex-1 py-2 rounded-lg transition-colors ${\n              side === 'sell'\n                ? 'bg-red-600 text-white'\n                : 'bg-gray-700 text-gray-300 hover:bg-gray-600'\n            }`}\n          >\n            Sell\n          </button>\n        </div>\n      </div>\n      \n      {/* Quantity Input */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n          Quantity\n        </label>\n        <input\n          type=\"number\"\n          step=\"0.000001\"\n          min=\"0\"\n          value={quantity}\n          onChange={(e) => setQuantity(e.target.value)}\n          className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          placeholder=\"Enter quantity\"\n          required\n        />\n      </div>\n      \n      {/* Price Input (only for limit orders) */}\n      {orderType === 'limit' && (\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Price\n          </label>\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            min=\"0\"\n            value={price}\n            onChange={(e) => setPrice(e.target.value)}\n            className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            placeholder=\"Enter limit price\"\n            required\n          />\n        </div>\n      )}\n      \n      {/* Order Summary */}\n      <div className=\"p-4 bg-gray-700 rounded-lg\">\n        <div className=\"text-sm text-gray-400 mb-1\">Order Summary:</div>\n        <div className=\"font-semibold\">\n          {side.toUpperCase()} {quantity || '0'} {selectedSymbol?.split('/')[0]} \n          {orderType === 'limit' && price ? ` at ${price} ${selectedSymbol?.split('/')[1]}` : ' at market price'}\n        </div>\n      </div>\n      \n      {/* Submit Button */}\n      <button\n        type=\"submit\"\n        disabled={!isConnected || isSubmitting}\n        className={`w-full py-3 rounded-lg font-semibold transition-colors ${\n          isConnected && !isSubmitting\n            ? side === 'buy'\n              ? 'bg-green-600 hover:bg-green-700 text-white'\n              : 'bg-red-600 hover:bg-red-700 text-white'\n            : 'bg-gray-700 text-gray-400 cursor-not-allowed'\n        }`}\n      >\n        {isSubmitting ? 'Submitting...' : `Place ${side.toUpperCase()} Order`}\n      </button>\n      \n      {!isConnected && (\n        <div className=\"text-sm text-yellow-400 text-center\">\n          Connect to an exchange to start trading\n        </div>\n      )}\n    </form>\n  );\n}\n"     },     {       "path": "src/components/trade/OrderStatusTracker.tsx",       "content": "'use client';\n\nimport React from 'react';\n\ninterface Order {\n  id: string;\n  symbol: string;\n  side: 'buy' | 'sell';\n  type: 'market' | 'limit';\n  quantity: number;\n  price?: number;\n  status: 'pending' | 'filled' | 'cancelled' | 'failed';\n  timestamp: string;\n  filledQuantity?: number;\n  avgPrice?: number;\n  fees?: number;\n  error?: string;\n}\n\ninterface OrderStatusTrackerProps {\n  orders: Order[];\n  onCancelOrder: (orderId: string) => void;\n}\n\nexport default function OrderStatusTracker({ orders, onCancelOrder }: OrderStatusTrackerProps) {\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'pending': return 'text-yellow-400';\n      case 'filled': return 'text-green-400';\n      case 'cancelled': return 'text-gray-400';\n      case 'failed': return 'text-red-400';\n      default: return 'text-gray-400';\n    }\n  };\n  \n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'pending': return '⏳';\n      case 'filled': return '✅';\n      case 'cancelled': return '❌';\n      case 'failed': return '⚠️';\n      default: return '❓';\n    }\n  };\n  \n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Order Status Tracker</h2>\n      \n      {orders.length === 0 ? (\n        <div className=\"text-center py-8 text-gray-500\">\n          No orders yet. Place your first order above.\n        </div>\n      ) : (\n        <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n          {orders.map((order) => (\n            <div \n              key={order.id} \n              className=\"p-4 bg-gray-700 rounded-lg border border-gray-600\"\n            >\n              <div className=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`font-semibold ${order.side === 'buy' ? 'text-green-400' : 'text-red-400'}`}>\n                      {order.side.toUpperCase()}\n                    </span>\n                    <span className=\"text-gray-300\">{order.symbol}</span>\n                    <span className=\"text-sm text-gray-400\">{order.type}</span>\n                  </div>\n                  <div className=\"text-sm text-gray-400 mt-1\">\n                    {new Date(order.timestamp).toLocaleTimeString()}\n                  </div>\n                </div>\n                \n                <div className=\"flex items-center space-x-2\">\n                  <span className={`font-semibold ${getStatusColor(order.status)}`}>\n                    {getStatusIcon(order.status)} {order.status.toUpperCase()}\n                  </span>\n                  {order.status === 'pending' && (\n                    <button\n                      onClick={() => onCancelOrder(order.id)}\n                      className=\"px-3 py-1 text-sm bg-red-600 hover:bg-red-700 rounded-lg transition-colors\"\n                    >\n                      Cancel\n                    </button>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <div className=\"text-gray-400\">Quantity</div>\n                  <div className=\"font-semibold\">{order.quantity}</div>\n                </div>\n                <div>\n                  <div className=\"text-gray-400\">Price</div>\n                  <div className=\"font-semibold\">\n                    {order.price ? `${order.price}` : 'Market'}\n                  </div>\n                </div>\n                {order.filledQuantity !== undefined && (\n                  <div>\n                    <div className=\"text-gray-400\">Filled</div>\n                    <div className=\"font-semibold\">{order.filledQuantity}</div>\n                  </div>\n                )}\n                {order.avgPrice !== undefined && (\n                  <div>\n                    <div className=\"text-gray-400\">Avg Price</div>\n                    <div className=\"font-semibold\">{order.avgPrice}</div>\n                  </div>\n                )}\n              </div>\n              \n              {order.fees !== undefined && (\n                <div className=\"mt-2 text-sm\">\n                  <span className=\"text-gray-400\">Fees: </span>\n                  <span className=\"font-semibold\">{order.fees.toFixed(4)}</span>\n                </div>\n              )}\n              \n              {order.error && (\n                <div className=\"mt-2 p-2 bg-red-900 text-red-200 rounded text-sm\">\n                  Error: {order.error}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"     },     {       "path": "src/components/trade/TradeHistory.tsx",       "content": "'use client';\n\nimport React from 'react';\n\ninterface Trade {\n  id: string;\n  symbol: string;\n  side: 'buy' | 'sell';\n  quantity: number;\n  price: number;\n  fees: number;\n  timestamp: string;\n  exchange: string;\n}\n\ninterface TradeHistoryProps {\n  trades: Trade[];\n}\n\nexport default function TradeHistory({ trades }: TradeHistoryProps) {\n  const calculateTotal = (trade: Trade) => {\n    return trade.quantity * trade.price;\n  };\n  \n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Trade History</h2>\n      \n      {trades.length === 0 ? (\n        <div className=\"text-center py-8 text-gray-500\">\n          No trades yet. Your trades will appear here.\n        </div>\n      ) : (\n        <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n          {trades.map((trade) => (\n            <div \n              key={trade.id} \n              className=\"p-4 bg-gray-700 rounded-lg border border-gray-600\"\n            >\n              <div className=\"flex justify-between items-start mb-2\">\n                <div>\n                  <div className=\"flex items-center space-x-2\">\n                    <span className={`font-semibold ${trade.side === 'buy' ? 'text-green-400' : 'text-red-400'}`}>\n                      {trade.side.toUpperCase()}\n                    </span>\n                    <span className=\"text-gray-300\">{trade.symbol}</span>\n                  </div>\n                  <div className=\"text-sm text-gray-400 mt-1\">\n                    {new Date(trade.timestamp).toLocaleString()}\n                  </div>\n                </div>\n                <div className=\"text-sm text-gray-400\">\n                  {trade.exchange}\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <div className=\"text-gray-400\">Quantity</div>\n                  <div className=\"font-semibold\">{trade.quantity}</div>\n                </div>\n                <div>\n                  <div className=\"text-gray-400\">Price</div>\n                  <div className=\"font-semibold\">{trade.price}</div>\n                </div>\n                <div>\n                  <div className=\"text-gray-400\">Total</div>\n                  <div className=\"font-semibold\">\n                    {calculateTotal(trade).toFixed(2)}\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-gray-400\">Fees</div>\n                  <div className=\"font-semibold\">{trade.fees.toFixed(4)}</div>\n                </div>\n              </div>\n              \n              <div className=\"mt-2 pt-2 border-t border-gray-600 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Net Cost:</span>\n                  <span className={`font-semibold ${trade.side === 'buy' ? 'text-green-400' : 'text-red-400'}`}>\n                    {trade.side === 'buy' ? '-' : '+'}\n                    {(calculateTotal(trade) + trade.fees).toFixed(2)}\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"     },     {       "path": "src/components/trade/FeeCalculator.tsx",       "content": "'use client';\n\nimport React, { useState, useEffect } from 'react';\n\ninterface FeeCalculatorProps {\n  exchange: string;\n  symbol: string;\n}\n\nexport default function FeeCalculator({ exchange, symbol }: FeeCalculatorProps) {\n  const [quantity, setQuantity] = useState('1');\n  const [price, setPrice] = useState('1000');\n  const [makerFee, setMakerFee] = useState(0.1);\n  const [takerFee, setTakerFee] = useState(0.2);\n  \n  // Update fees based on exchange\n  useEffect(() => {\n    const exchangeFees = {\n      binance: { maker: 0.1, taker: 0.1 },\n      kraken: { maker: 0.16, taker: 0.26 },\n    };\n    \n    if (exchange && exchangeFees[exchange]) {\n      setMakerFee(exchangeFees[exchange].maker);\n      setTakerFee(exchangeFees[exchange].taker);\n    }\n  }, [exchange]);\n  \n  const calculateFees = () => {\n    const qty = parseFloat(quantity) || 0;\n    const prc = parseFloat(price) || 0;\n    const total = qty * prc;\n    \n    return {\n      makerFee: total * (makerFee / 100),\n      takerFee: total * (takerFee / 100),\n      total,\n    };\n  };\n  \n  const fees = calculateFees();\n  \n  return (\n    <div>\n      <h2 className=\"text-xl font-semibold mb-4\">Fee Calculator</h2>\n      \n      <div className=\"space-y-4\">\n        {/* Inputs */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Quantity\n          </label>\n          <input\n            type=\"number\"\n            step=\"0.000001\"\n            min=\"0\"\n            value={quantity}\n            onChange={(e) => setQuantity(e.target.value)}\n            className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n        \n        <div>\n          <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n            Price\n          </label>\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            min=\"0\"\n            value={price}\n            onChange={(e) => setPrice(e.target.value)}\n            className=\"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n        \n        {/* Fee Rates */}\n        <div className=\"p-4 bg-gray-700 rounded-lg\">\n          <div className=\"text-sm text-gray-400 mb-2\">Fee Rates:</div>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <div className=\"text-gray-300\">Maker Fee</div>\n              <div className=\"font-semibold text-green-400\">{makerFee}%</div>\n            </div>\n            <div>\n              <div className=\"text-gray-300\">Taker Fee</div>\n              <div className=\"font-semibold text-yellow-400\">{takerFee}%</div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Fee Calculation Results */}\n        <div className=\"p-4 bg-gray-700 rounded-lg\">\n          <div className=\"text-sm text-gray-400 mb-2\">Estimated Fees:</div>\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-300\">Trade Value:</span>\n              <span className=\"font-semibold\">{fees.total.toFixed(2)}</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-300\">Maker Fee:</span>\n              <span className=\"font-semibold text-green-400\">\n                {fees.makerFee.toFixed(4)} ({makerFee}%)\n              </span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-300\">Taker Fee:</span>\n              <span className=\"font-semibold text-yellow-400\">\n                {fees.takerFee.toFixed(4)} ({takerFee}%)\n              </span>\n            </div>\n            <div className=\"pt-2 border-t border-gray-600\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-gray-300\">Total Cost (with taker fee):</span>\n                <span className=\"font-semibold\">\n                  {(fees.total + fees.takerFee).toFixed(2)}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Exchange Info */}\n        <div className=\"text-sm text-gray-400\">\n          Fees are based on {exchange ? exchange.toUpperCase() : 'selected exchange'} rates. \n          Actual fees may vary based on trading volume and market conditions.\n        </div>\n      </div>\n    </div>\n  );\n}\n"     },     {       "